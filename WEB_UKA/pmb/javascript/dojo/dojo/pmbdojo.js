/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

if(!dojo._hasResource["dojo.data.util.filter"]){dojo._hasResource["dojo.data.util.filter"]=true;dojo.provide("dojo.data.util.filter");dojo.getObject("data.util.filter",true,dojo);dojo.data.util.filter.patternToRegExp=function(_1,_2){var _3="^";var c=null;for(var i=0;i<_1.length;i++){c=_1.charAt(i);switch(c){case "\\":_3+=c;i++;_3+=_1.charAt(i);break;case "*":_3+=".*";break;case "?":_3+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":_3+="\\";default:_3+=c;}}_3+="$";if(_2){return new RegExp(_3,"mi");}else{return new RegExp(_3,"m");}};}if(!dojo._hasResource["dojo.data.util.sorter"]){dojo._hasResource["dojo.data.util.sorter"]=true;dojo.provide("dojo.data.util.sorter");dojo.getObject("data.util.sorter",true,dojo);dojo.data.util.sorter.basicComparator=function(a,b){var r=-1;if(a===null){a=undefined;}if(b===null){b=undefined;}if(a==b){r=0;}else{if(a>b||a==null){r=1;}}return r;};dojo.data.util.sorter.createSortFunction=function(_4,_5){var _6=[];function _7(_8,_9,_a,s){return function(_b,_c){var a=s.getValue(_b,_8);var b=s.getValue(_c,_8);return _9*_a(a,b);};};var _d;var _e=_5.comparatorMap;var bc=dojo.data.util.sorter.basicComparator;for(var i=0;i<_4.length;i++){_d=_4[i];var _f=_d.attribute;if(_f){var dir=(_d.descending)?-1:1;var _10=bc;if(_e){if(typeof _f!=="string"&&("toString" in _f)){_f=_f.toString();}_10=_e[_f]||bc;}_6.push(_7(_f,dir,_10,_5));}}return function(_11,_12){var i=0;while(i<_6.length){var ret=_6[i++](_11,_12);if(ret!==0){return ret;}}return 0;};};}if(!dojo._hasResource["dojo.data.util.simpleFetch"]){dojo._hasResource["dojo.data.util.simpleFetch"]=true;dojo.provide("dojo.data.util.simpleFetch");dojo.getObject("data.util.simpleFetch",true,dojo);dojo.data.util.simpleFetch.fetch=function(_13){_13=_13||{};if(!_13.store){_13.store=this;}var _14=this;var _15=function(_16,_17){if(_17.onError){var _18=_17.scope||dojo.global;_17.onError.call(_18,_16,_17);}};var _19=function(_1a,_1b){var _1c=_1b.abort||null;var _1d=false;var _1e=_1b.start?_1b.start:0;var _1f=(_1b.count&&(_1b.count!==Infinity))?(_1e+_1b.count):_1a.length;_1b.abort=function(){_1d=true;if(_1c){_1c.call(_1b);}};var _20=_1b.scope||dojo.global;if(!_1b.store){_1b.store=_14;}if(_1b.onBegin){_1b.onBegin.call(_20,_1a.length,_1b);}if(_1b.sort){_1a.sort(dojo.data.util.sorter.createSortFunction(_1b.sort,_14));}if(_1b.onItem){for(var i=_1e;(i<_1a.length)&&(i<_1f);++i){var _21=_1a[i];if(!_1d){_1b.onItem.call(_20,_21,_1b);}}}if(_1b.onComplete&&!_1d){var _22=null;if(!_1b.onItem){_22=_1a.slice(_1e,_1f);}_1b.onComplete.call(_20,_22,_1b);}};this._fetchItems(_13,_19,_15);return _13;};}if(!dojo._hasResource["dojo.date.stamp"]){dojo._hasResource["dojo.date.stamp"]=true;dojo.provide("dojo.date.stamp");dojo.getObject("date.stamp",true,dojo);dojo.date.stamp.fromISOString=function(_23,_24){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _25=dojo.date.stamp._isoRegExp.exec(_23),_26=null;if(_25){_25.shift();if(_25[1]){_25[1]--;}if(_25[6]){_25[6]*=1000;}if(_24){_24=new Date(_24);dojo.forEach(dojo.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(_27){return _24["get"+_27]();}),function(_28,_29){_25[_29]=_25[_29]||_28;});}_26=new Date(_25[0]||1970,_25[1]||0,_25[2]||1,_25[3]||0,_25[4]||0,_25[5]||0,_25[6]||0);if(_25[0]<100){_26.setFullYear(_25[0]||1970);}var _2a=0,_2b=_25[7]&&_25[7].charAt(0);if(_2b!="Z"){_2a=((_25[8]||0)*60)+(Number(_25[9])||0);if(_2b!="-"){_2a*=-1;}}if(_2b){_2a-=_26.getTimezoneOffset();}if(_2a){_26.setTime(_26.getTime()+_2a*60000);}}return _26;};dojo.date.stamp.toISOString=function(_2c,_2d){var _2e=function(n){return (n<10)?"0"+n:n;};_2d=_2d||{};var _2f=[],_30=_2d.zulu?"getUTC":"get",_31="";if(_2d.selector!="time"){var _32=_2c[_30+"FullYear"]();_31=["0000".substr((_32+"").length)+_32,_2e(_2c[_30+"Month"]()+1),_2e(_2c[_30+"Date"]())].join("-");}_2f.push(_31);if(_2d.selector!="date"){var _33=[_2e(_2c[_30+"Hours"]()),_2e(_2c[_30+"Minutes"]()),_2e(_2c[_30+"Seconds"]())].join(":");var _34=_2c[_30+"Milliseconds"]();if(_2d.milliseconds){_33+="."+(_34<100?"0":"")+_2e(_34);}if(_2d.zulu){_33+="Z";}else{if(_2d.selector!="time"){var _35=_2c.getTimezoneOffset();var _36=Math.abs(_35);_33+=(_35>0?"-":"+")+_2e(Math.floor(_36/60))+":"+_2e(_36%60);}}_2f.push(_33);}return _2f.join("T");};}if(!dojo._hasResource["dojo.data.ItemFileReadStore"]){dojo._hasResource["dojo.data.ItemFileReadStore"]=true;dojo.provide("dojo.data.ItemFileReadStore");dojo.declare("dojo.data.ItemFileReadStore",null,{constructor:function(_37){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._jsonFileUrl=_37.url;this._ccUrl=_37.url;this.url=_37.url;this._jsonData=_37.data;this.data=null;this._datatypeMap=_37.typeMap||{};if(!this._datatypeMap["Date"]){this._datatypeMap["Date"]={type:Date,deserialize:function(_38){return dojo.date.stamp.fromISOString(_38);}};}this._features={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};this._itemsByIdentity=null;this._storeRefPropName="_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=false;this._queuedFetches=[];if(_37.urlPreventCache!==undefined){this.urlPreventCache=_37.urlPreventCache?true:false;}if(_37.hierarchical!==undefined){this.hierarchical=_37.hierarchical?true:false;}if(_37.clearOnClose){this.clearOnClose=true;}if("failOk" in _37){this.failOk=_37.failOk?true:false;}},url:"",_ccUrl:"",data:null,typeMap:null,clearOnClose:false,urlPreventCache:false,failOk:false,hierarchical:true,_assertIsItem:function(_39){if(!this.isItem(_39)){throw new Error("dojo.data.ItemFileReadStore: Invalid item argument.");}},_assertIsAttribute:function(_3a){if(typeof _3a!=="string"){throw new Error("dojo.data.ItemFileReadStore: Invalid attribute argument.");}},getValue:function(_3b,_3c,_3d){var _3e=this.getValues(_3b,_3c);return (_3e.length>0)?_3e[0]:_3d;},getValues:function(_3f,_40){this._assertIsItem(_3f);this._assertIsAttribute(_40);return (_3f[_40]||[]).slice(0);},getAttributes:function(_41){this._assertIsItem(_41);var _42=[];for(var key in _41){if((key!==this._storeRefPropName)&&(key!==this._itemNumPropName)&&(key!==this._rootItemPropName)&&(key!==this._reverseRefMap)){_42.push(key);}}return _42;},hasAttribute:function(_43,_44){this._assertIsItem(_43);this._assertIsAttribute(_44);return (_44 in _43);},containsValue:function(_45,_46,_47){var _48=undefined;if(typeof _47==="string"){_48=dojo.data.util.filter.patternToRegExp(_47,false);}return this._containsValue(_45,_46,_47,_48);},_containsValue:function(_49,_4a,_4b,_4c){return dojo.some(this.getValues(_49,_4a),function(_4d){if(_4d!==null&&!dojo.isObject(_4d)&&_4c){if(_4d.toString().match(_4c)){return true;}}else{if(_4b===_4d){return true;}}});},isItem:function(_4e){if(_4e&&_4e[this._storeRefPropName]===this){if(this._arrayOfAllItems[_4e[this._itemNumPropName]]===_4e){return true;}}return false;},isItemLoaded:function(_4f){return this.isItem(_4f);},loadItem:function(_50){this._assertIsItem(_50.item);},getFeatures:function(){return this._features;},getLabel:function(_51){if(this._labelAttr&&this.isItem(_51)){return this.getValue(_51,this._labelAttr);}return undefined;},getLabelAttributes:function(_52){if(this._labelAttr){return [this._labelAttr];}return null;},_fetchItems:function(_53,_54,_55){var _56=this,_57=function(_58,_59){var _5a=[],i,key;if(_58.query){var _5b,_5c=_58.queryOptions?_58.queryOptions.ignoreCase:false;var _5d={};for(key in _58.query){_5b=_58.query[key];if(typeof _5b==="string"){_5d[key]=dojo.data.util.filter.patternToRegExp(_5b,_5c);}else{if(_5b instanceof RegExp){_5d[key]=_5b;}}}for(i=0;i<_59.length;++i){var _5e=true;var _5f=_59[i];if(_5f===null){_5e=false;}else{for(key in _58.query){_5b=_58.query[key];if(!_56._containsValue(_5f,key,_5b,_5d[key])){_5e=false;}}}if(_5e){_5a.push(_5f);}}_54(_5a,_58);}else{for(i=0;i<_59.length;++i){var _60=_59[i];if(_60!==null){_5a.push(_60);}}_54(_5a,_58);}};if(this._loadFinished){_57(_53,this._getItemsArray(_53.queryOptions));}else{if(this._jsonFileUrl!==this._ccUrl){dojo.deprecated("dojo.data.ItemFileReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_53,filter:_57});}else{this._loadInProgress=true;var _61={url:_56._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _62=dojo.xhrGet(_61);_62.addCallback(function(_63){try{_56._getItemsFromLoadedData(_63);_56._loadFinished=true;_56._loadInProgress=false;_57(_53,_56._getItemsArray(_53.queryOptions));_56._handleQueuedFetches();}catch(e){_56._loadFinished=true;_56._loadInProgress=false;_55(e,_53);}});_62.addErrback(function(_64){_56._loadInProgress=false;_55(_64,_53);});var _65=null;if(_53.abort){_65=_53.abort;}_53.abort=function(){var df=_62;if(df&&df.fired===-1){df.cancel();df=null;}if(_65){_65.call(_53);}};}}else{if(this._jsonData){try{this._loadFinished=true;this._getItemsFromLoadedData(this._jsonData);this._jsonData=null;_57(_53,this._getItemsArray(_53.queryOptions));}catch(e){_55(e,_53);}}else{_55(new Error("dojo.data.ItemFileReadStore: No JSON source data was provided as either URL or a nested Javascript object."),_53);}}}},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var i=0;i<this._queuedFetches.length;i++){var _66=this._queuedFetches[i],_67=_66.args,_68=_66.filter;if(_68){_68(_67,this._getItemsArray(_67.queryOptions));}else{this.fetchItemByIdentity(_67);}}this._queuedFetches=[];}},_getItemsArray:function(_69){if(_69&&_69.deep){return this._arrayOfAllItems;}return this._arrayOfTopLevelItems;},close:function(_6a){if(this.clearOnClose&&this._loadFinished&&!this._loadInProgress){if(((this._jsonFileUrl==""||this._jsonFileUrl==null)&&(this.url==""||this.url==null))&&this.data==null){console.debug("dojo.data.ItemFileReadStore: WARNING!  Data reload "+" information has not been provided."+"  Please set 'url' or 'data' to the appropriate value before"+" the next fetch");}this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._itemsByIdentity=null;this._loadInProgress=false;this._queuedFetches=[];}},_getItemsFromLoadedData:function(_6b){var _6c=false,_6d=this;function _6e(_6f){var _70=((_6f!==null)&&(typeof _6f==="object")&&(!dojo.isArray(_6f)||_6c)&&(!dojo.isFunction(_6f))&&(_6f.constructor==Object||dojo.isArray(_6f))&&(typeof _6f._reference==="undefined")&&(typeof _6f._type==="undefined")&&(typeof _6f._value==="undefined")&&_6d.hierarchical);return _70;};function _71(_72){_6d._arrayOfAllItems.push(_72);for(var _73 in _72){var _74=_72[_73];if(_74){if(dojo.isArray(_74)){var _75=_74;for(var k=0;k<_75.length;++k){var _76=_75[k];if(_6e(_76)){_71(_76);}}}else{if(_6e(_74)){_71(_74);}}}}};this._labelAttr=_6b.label;var i,_77;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=_6b.items;for(i=0;i<this._arrayOfTopLevelItems.length;++i){_77=this._arrayOfTopLevelItems[i];if(dojo.isArray(_77)){_6c=true;}_71(_77);_77[this._rootItemPropName]=true;}var _78={},key;for(i=0;i<this._arrayOfAllItems.length;++i){_77=this._arrayOfAllItems[i];for(key in _77){if(key!==this._rootItemPropName){var _79=_77[key];if(_79!==null){if(!dojo.isArray(_79)){_77[key]=[_79];}}else{_77[key]=[null];}}_78[key]=key;}}while(_78[this._storeRefPropName]){this._storeRefPropName+="_";}while(_78[this._itemNumPropName]){this._itemNumPropName+="_";}while(_78[this._reverseRefMap]){this._reverseRefMap+="_";}var _7a;var _7b=_6b.identifier;if(_7b){this._itemsByIdentity={};this._features["dojo.data.api.Identity"]=_7b;for(i=0;i<this._arrayOfAllItems.length;++i){_77=this._arrayOfAllItems[i];_7a=_77[_7b];var _7c=_7a[0];if(!Object.hasOwnProperty.call(this._itemsByIdentity,_7c)){this._itemsByIdentity[_7c]=_77;}else{if(this._jsonFileUrl){throw new Error("dojo.data.ItemFileReadStore:  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+_7b+"].  Value collided: ["+_7c+"]");}else{if(this._jsonData){throw new Error("dojo.data.ItemFileReadStore:  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+_7b+"].  Value collided: ["+_7c+"]");}}}}}else{this._features["dojo.data.api.Identity"]=Number;}for(i=0;i<this._arrayOfAllItems.length;++i){_77=this._arrayOfAllItems[i];_77[this._storeRefPropName]=this;_77[this._itemNumPropName]=i;}for(i=0;i<this._arrayOfAllItems.length;++i){_77=this._arrayOfAllItems[i];for(key in _77){_7a=_77[key];for(var j=0;j<_7a.length;++j){_79=_7a[j];if(_79!==null&&typeof _79=="object"){if(("_type" in _79)&&("_value" in _79)){var _7d=_79._type;var _7e=this._datatypeMap[_7d];if(!_7e){throw new Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+_7d+"'");}else{if(dojo.isFunction(_7e)){_7a[j]=new _7e(_79._value);}else{if(dojo.isFunction(_7e.deserialize)){_7a[j]=_7e.deserialize(_79._value);}else{throw new Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");}}}}if(_79._reference){var _7f=_79._reference;if(!dojo.isObject(_7f)){_7a[j]=this._getItemByIdentity(_7f);}else{for(var k=0;k<this._arrayOfAllItems.length;++k){var _80=this._arrayOfAllItems[k],_81=true;for(var _82 in _7f){if(_80[_82]!=_7f[_82]){_81=false;}}if(_81){_7a[j]=_80;}}}if(this.referenceIntegrity){var _83=_7a[j];if(this.isItem(_83)){this._addReferenceToMap(_83,_77,key);}}}else{if(this.isItem(_79)){if(this.referenceIntegrity){this._addReferenceToMap(_79,_77,key);}}}}}}}},_addReferenceToMap:function(_84,_85,_86){},getIdentity:function(_87){var _88=this._features["dojo.data.api.Identity"];if(_88===Number){return _87[this._itemNumPropName];}else{var _89=_87[_88];if(_89){return _89[0];}}return null;},fetchItemByIdentity:function(_8a){var _8b,_8c;if(!this._loadFinished){var _8d=this;if(this._jsonFileUrl!==this._ccUrl){dojo.deprecated("dojo.data.ItemFileReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null&&this._jsonData==null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_8a});}else{this._loadInProgress=true;var _8e={url:_8d._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _8f=dojo.xhrGet(_8e);_8f.addCallback(function(_90){var _91=_8a.scope?_8a.scope:dojo.global;try{_8d._getItemsFromLoadedData(_90);_8d._loadFinished=true;_8d._loadInProgress=false;_8b=_8d._getItemByIdentity(_8a.identity);if(_8a.onItem){_8a.onItem.call(_91,_8b);}_8d._handleQueuedFetches();}catch(error){_8d._loadInProgress=false;if(_8a.onError){_8a.onError.call(_91,error);}}});_8f.addErrback(function(_92){_8d._loadInProgress=false;if(_8a.onError){var _93=_8a.scope?_8a.scope:dojo.global;_8a.onError.call(_93,_92);}});}}else{if(this._jsonData){_8d._getItemsFromLoadedData(_8d._jsonData);_8d._jsonData=null;_8d._loadFinished=true;_8b=_8d._getItemByIdentity(_8a.identity);if(_8a.onItem){_8c=_8a.scope?_8a.scope:dojo.global;_8a.onItem.call(_8c,_8b);}}}}else{_8b=this._getItemByIdentity(_8a.identity);if(_8a.onItem){_8c=_8a.scope?_8a.scope:dojo.global;_8a.onItem.call(_8c,_8b);}}},_getItemByIdentity:function(_94){var _95=null;if(this._itemsByIdentity&&Object.hasOwnProperty.call(this._itemsByIdentity,_94)){_95=this._itemsByIdentity[_94];}else{if(Object.hasOwnProperty.call(this._arrayOfAllItems,_94)){_95=this._arrayOfAllItems[_94];}}if(_95===undefined){_95=null;}return _95;},getIdentityAttributes:function(_96){var _97=this._features["dojo.data.api.Identity"];if(_97===Number){return null;}else{return [_97];}},_forceLoad:function(){var _98=this;if(this._jsonFileUrl!==this._ccUrl){dojo.deprecated("dojo.data.ItemFileReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){var _99={url:this._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk,sync:true};var _9a=dojo.xhrGet(_99);_9a.addCallback(function(_9b){try{if(_98._loadInProgress!==true&&!_98._loadFinished){_98._getItemsFromLoadedData(_9b);_98._loadFinished=true;}else{if(_98._loadInProgress){throw new Error("dojo.data.ItemFileReadStore:  Unable to perform a synchronous load, an async load is in progress.");}}}catch(e){console.log(e);throw e;}});_9a.addErrback(function(_9c){throw _9c;});}else{if(this._jsonData){_98._getItemsFromLoadedData(_98._jsonData);_98._jsonData=null;_98._loadFinished=true;}}}});dojo.extend(dojo.data.ItemFileReadStore,dojo.data.util.simpleFetch);}if(!dojo._hasResource["dojo.data.ItemFileWriteStore"]){dojo._hasResource["dojo.data.ItemFileWriteStore"]=true;dojo.provide("dojo.data.ItemFileWriteStore");dojo.declare("dojo.data.ItemFileWriteStore",dojo.data.ItemFileReadStore,{constructor:function(_9d){this._features["dojo.data.api.Write"]=true;this._features["dojo.data.api.Notification"]=true;this._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};if(!this._datatypeMap["Date"].serialize){this._datatypeMap["Date"].serialize=function(obj){return dojo.date.stamp.toISOString(obj,{zulu:true});};}if(_9d&&(_9d.referenceIntegrity===false)){this.referenceIntegrity=false;}this._saveInProgress=false;},referenceIntegrity:true,_assert:function(_9e){if(!_9e){throw new Error("assertion failed in ItemFileWriteStore");}},_getIdentifierAttribute:function(){var _9f=this.getFeatures()["dojo.data.api.Identity"];return _9f;},newItem:function(_a0,_a1){this._assert(!this._saveInProgress);if(!this._loadFinished){this._forceLoad();}if(typeof _a0!="object"&&typeof _a0!="undefined"){throw new Error("newItem() was passed something other than an object");}var _a2=null;var _a3=this._getIdentifierAttribute();if(_a3===Number){_a2=this._arrayOfAllItems.length;}else{_a2=_a0[_a3];if(typeof _a2==="undefined"){throw new Error("newItem() was not passed an identity for the new item");}if(dojo.isArray(_a2)){throw new Error("newItem() was not passed an single-valued identity");}}if(this._itemsByIdentity){this._assert(typeof this._itemsByIdentity[_a2]==="undefined");}this._assert(typeof this._pending._newItems[_a2]==="undefined");this._assert(typeof this._pending._deletedItems[_a2]==="undefined");var _a4={};_a4[this._storeRefPropName]=this;_a4[this._itemNumPropName]=this._arrayOfAllItems.length;if(this._itemsByIdentity){this._itemsByIdentity[_a2]=_a4;_a4[_a3]=[_a2];}this._arrayOfAllItems.push(_a4);var _a5=null;if(_a1&&_a1.parent&&_a1.attribute){_a5={item:_a1.parent,attribute:_a1.attribute,oldValue:undefined};var _a6=this.getValues(_a1.parent,_a1.attribute);if(_a6&&_a6.length>0){var _a7=_a6.slice(0,_a6.length);if(_a6.length===1){_a5.oldValue=_a6[0];}else{_a5.oldValue=_a6.slice(0,_a6.length);}_a7.push(_a4);this._setValueOrValues(_a1.parent,_a1.attribute,_a7,false);_a5.newValue=this.getValues(_a1.parent,_a1.attribute);}else{this._setValueOrValues(_a1.parent,_a1.attribute,_a4,false);_a5.newValue=_a4;}}else{_a4[this._rootItemPropName]=true;this._arrayOfTopLevelItems.push(_a4);}this._pending._newItems[_a2]=_a4;for(var key in _a0){if(key===this._storeRefPropName||key===this._itemNumPropName){throw new Error("encountered bug in ItemFileWriteStore.newItem");}var _a8=_a0[key];if(!dojo.isArray(_a8)){_a8=[_a8];}_a4[key]=_a8;if(this.referenceIntegrity){for(var i=0;i<_a8.length;i++){var val=_a8[i];if(this.isItem(val)){this._addReferenceToMap(val,_a4,key);}}}}this.onNew(_a4,_a5);return _a4;},_removeArrayElement:function(_a9,_aa){var _ab=dojo.indexOf(_a9,_aa);if(_ab!=-1){_a9.splice(_ab,1);return true;}return false;},deleteItem:function(_ac){this._assert(!this._saveInProgress);this._assertIsItem(_ac);var _ad=_ac[this._itemNumPropName];var _ae=this.getIdentity(_ac);if(this.referenceIntegrity){var _af=this.getAttributes(_ac);if(_ac[this._reverseRefMap]){_ac["backup_"+this._reverseRefMap]=dojo.clone(_ac[this._reverseRefMap]);}dojo.forEach(_af,function(_b0){dojo.forEach(this.getValues(_ac,_b0),function(_b1){if(this.isItem(_b1)){if(!_ac["backupRefs_"+this._reverseRefMap]){_ac["backupRefs_"+this._reverseRefMap]=[];}_ac["backupRefs_"+this._reverseRefMap].push({id:this.getIdentity(_b1),attr:_b0});this._removeReferenceFromMap(_b1,_ac,_b0);}},this);},this);var _b2=_ac[this._reverseRefMap];if(_b2){for(var _b3 in _b2){var _b4=null;if(this._itemsByIdentity){_b4=this._itemsByIdentity[_b3];}else{_b4=this._arrayOfAllItems[_b3];}if(_b4){for(var _b5 in _b2[_b3]){var _b6=this.getValues(_b4,_b5)||[];var _b7=dojo.filter(_b6,function(_b8){return !(this.isItem(_b8)&&this.getIdentity(_b8)==_ae);},this);this._removeReferenceFromMap(_ac,_b4,_b5);if(_b7.length<_b6.length){this._setValueOrValues(_b4,_b5,_b7,true);}}}}}}this._arrayOfAllItems[_ad]=null;_ac[this._storeRefPropName]=null;if(this._itemsByIdentity){delete this._itemsByIdentity[_ae];}this._pending._deletedItems[_ae]=_ac;if(_ac[this._rootItemPropName]){this._removeArrayElement(this._arrayOfTopLevelItems,_ac);}this.onDelete(_ac);return true;},setValue:function(_b9,_ba,_bb){return this._setValueOrValues(_b9,_ba,_bb,true);},setValues:function(_bc,_bd,_be){return this._setValueOrValues(_bc,_bd,_be,true);},unsetAttribute:function(_bf,_c0){return this._setValueOrValues(_bf,_c0,[],true);},_setValueOrValues:function(_c1,_c2,_c3,_c4){this._assert(!this._saveInProgress);this._assertIsItem(_c1);this._assert(dojo.isString(_c2));this._assert(typeof _c3!=="undefined");var _c5=this._getIdentifierAttribute();if(_c2==_c5){throw new Error("ItemFileWriteStore does not have support for changing the value of an item's identifier.");}var _c6=this._getValueOrValues(_c1,_c2);var _c7=this.getIdentity(_c1);if(!this._pending._modifiedItems[_c7]){var _c8={};for(var key in _c1){if((key===this._storeRefPropName)||(key===this._itemNumPropName)||(key===this._rootItemPropName)){_c8[key]=_c1[key];}else{if(key===this._reverseRefMap){_c8[key]=dojo.clone(_c1[key]);}else{_c8[key]=_c1[key].slice(0,_c1[key].length);}}}this._pending._modifiedItems[_c7]=_c8;}var _c9=false;if(dojo.isArray(_c3)&&_c3.length===0){_c9=delete _c1[_c2];_c3=undefined;if(this.referenceIntegrity&&_c6){var _ca=_c6;if(!dojo.isArray(_ca)){_ca=[_ca];}for(var i=0;i<_ca.length;i++){var _cb=_ca[i];if(this.isItem(_cb)){this._removeReferenceFromMap(_cb,_c1,_c2);}}}}else{var _cc;if(dojo.isArray(_c3)){var _cd=_c3;_cc=_c3.slice(0,_c3.length);}else{_cc=[_c3];}if(this.referenceIntegrity){if(_c6){var _ca=_c6;if(!dojo.isArray(_ca)){_ca=[_ca];}var map={};dojo.forEach(_ca,function(_ce){if(this.isItem(_ce)){var id=this.getIdentity(_ce);map[id.toString()]=true;}},this);dojo.forEach(_cc,function(_cf){if(this.isItem(_cf)){var id=this.getIdentity(_cf);if(map[id.toString()]){delete map[id.toString()];}else{this._addReferenceToMap(_cf,_c1,_c2);}}},this);for(var rId in map){var _d0;if(this._itemsByIdentity){_d0=this._itemsByIdentity[rId];}else{_d0=this._arrayOfAllItems[rId];}this._removeReferenceFromMap(_d0,_c1,_c2);}}else{for(var i=0;i<_cc.length;i++){var _cb=_cc[i];if(this.isItem(_cb)){this._addReferenceToMap(_cb,_c1,_c2);}}}}_c1[_c2]=_cc;_c9=true;}if(_c4){this.onSet(_c1,_c2,_c6,_c3);}return _c9;},_addReferenceToMap:function(_d1,_d2,_d3){var _d4=this.getIdentity(_d2);var _d5=_d1[this._reverseRefMap];if(!_d5){_d5=_d1[this._reverseRefMap]={};}var _d6=_d5[_d4];if(!_d6){_d6=_d5[_d4]={};}_d6[_d3]=true;},_removeReferenceFromMap:function(_d7,_d8,_d9){var _da=this.getIdentity(_d8);var _db=_d7[this._reverseRefMap];var _dc;if(_db){for(_dc in _db){if(_dc==_da){delete _db[_dc][_d9];if(this._isEmpty(_db[_dc])){delete _db[_dc];}}}if(this._isEmpty(_db)){delete _d7[this._reverseRefMap];}}},_dumpReferenceMap:function(){var i;for(i=0;i<this._arrayOfAllItems.length;i++){var _dd=this._arrayOfAllItems[i];if(_dd&&_dd[this._reverseRefMap]){console.log("Item: ["+this.getIdentity(_dd)+"] is referenced by: "+dojo.toJson(_dd[this._reverseRefMap]));}}},_getValueOrValues:function(_de,_df){var _e0=undefined;if(this.hasAttribute(_de,_df)){var _e1=this.getValues(_de,_df);if(_e1.length==1){_e0=_e1[0];}else{_e0=_e1;}}return _e0;},_flatten:function(_e2){if(this.isItem(_e2)){var _e3=_e2;var _e4=this.getIdentity(_e3);var _e5={_reference:_e4};return _e5;}else{if(typeof _e2==="object"){for(var _e6 in this._datatypeMap){var _e7=this._datatypeMap[_e6];if(dojo.isObject(_e7)&&!dojo.isFunction(_e7)){if(_e2 instanceof _e7.type){if(!_e7.serialize){throw new Error("ItemFileWriteStore:  No serializer defined for type mapping: ["+_e6+"]");}return {_type:_e6,_value:_e7.serialize(_e2)};}}else{if(_e2 instanceof _e7){return {_type:_e6,_value:_e2.toString()};}}}}return _e2;}},_getNewFileContentString:function(){var _e8={};var _e9=this._getIdentifierAttribute();if(_e9!==Number){_e8.identifier=_e9;}if(this._labelAttr){_e8.label=this._labelAttr;}_e8.items=[];for(var i=0;i<this._arrayOfAllItems.length;++i){var _ea=this._arrayOfAllItems[i];if(_ea!==null){var _eb={};for(var key in _ea){if(key!==this._storeRefPropName&&key!==this._itemNumPropName&&key!==this._reverseRefMap&&key!==this._rootItemPropName){var _ec=key;var _ed=this.getValues(_ea,_ec);if(_ed.length==1){_eb[_ec]=this._flatten(_ed[0]);}else{var _ee=[];for(var j=0;j<_ed.length;++j){_ee.push(this._flatten(_ed[j]));_eb[_ec]=_ee;}}}}_e8.items.push(_eb);}}var _ef=true;return dojo.toJson(_e8,_ef);},_isEmpty:function(_f0){var _f1=true;if(dojo.isObject(_f0)){var i;for(i in _f0){_f1=false;break;}}else{if(dojo.isArray(_f0)){if(_f0.length>0){_f1=false;}}}return _f1;},save:function(_f2){this._assert(!this._saveInProgress);this._saveInProgress=true;var _f3=this;var _f4=function(){_f3._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};_f3._saveInProgress=false;if(_f2&&_f2.onComplete){var _f5=_f2.scope||dojo.global;_f2.onComplete.call(_f5);}};var _f6=function(err){_f3._saveInProgress=false;if(_f2&&_f2.onError){var _f7=_f2.scope||dojo.global;_f2.onError.call(_f7,err);}};if(this._saveEverything){var _f8=this._getNewFileContentString();this._saveEverything(_f4,_f6,_f8);}if(this._saveCustom){this._saveCustom(_f4,_f6);}if(!this._saveEverything&&!this._saveCustom){_f4();}},revert:function(){this._assert(!this._saveInProgress);var _f9;for(_f9 in this._pending._modifiedItems){var _fa=this._pending._modifiedItems[_f9];var _fb=null;if(this._itemsByIdentity){_fb=this._itemsByIdentity[_f9];}else{_fb=this._arrayOfAllItems[_f9];}_fa[this._storeRefPropName]=this;for(key in _fb){delete _fb[key];}dojo.mixin(_fb,_fa);}var _fc;for(_f9 in this._pending._deletedItems){_fc=this._pending._deletedItems[_f9];_fc[this._storeRefPropName]=this;var _fd=_fc[this._itemNumPropName];if(_fc["backup_"+this._reverseRefMap]){_fc[this._reverseRefMap]=_fc["backup_"+this._reverseRefMap];delete _fc["backup_"+this._reverseRefMap];}this._arrayOfAllItems[_fd]=_fc;if(this._itemsByIdentity){this._itemsByIdentity[_f9]=_fc;}if(_fc[this._rootItemPropName]){this._arrayOfTopLevelItems.push(_fc);}}for(_f9 in this._pending._deletedItems){_fc=this._pending._deletedItems[_f9];if(_fc["backupRefs_"+this._reverseRefMap]){dojo.forEach(_fc["backupRefs_"+this._reverseRefMap],function(_fe){var _ff;if(this._itemsByIdentity){_ff=this._itemsByIdentity[_fe.id];}else{_ff=this._arrayOfAllItems[_fe.id];}this._addReferenceToMap(_ff,_fc,_fe.attr);},this);delete _fc["backupRefs_"+this._reverseRefMap];}}for(_f9 in this._pending._newItems){var _100=this._pending._newItems[_f9];_100[this._storeRefPropName]=null;this._arrayOfAllItems[_100[this._itemNumPropName]]=null;if(_100[this._rootItemPropName]){this._removeArrayElement(this._arrayOfTopLevelItems,_100);}if(this._itemsByIdentity){delete this._itemsByIdentity[_f9];}}this._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};return true;},isDirty:function(item){if(item){var _101=this.getIdentity(item);return new Boolean(this._pending._newItems[_101]||this._pending._modifiedItems[_101]||this._pending._deletedItems[_101]).valueOf();}else{if(!this._isEmpty(this._pending._newItems)||!this._isEmpty(this._pending._modifiedItems)||!this._isEmpty(this._pending._deletedItems)){return true;}return false;}},onSet:function(item,_102,_103,_104){},onNew:function(_105,_106){},onDelete:function(_107){},close:function(_108){if(this.clearOnClose){if(!this.isDirty()){this.inherited(arguments);}else{throw new Error("dojo.data.ItemFileWriteStore: There are unsaved changes present in the store.  Please save or revert the changes before invoking close.");}}}});}if(!dojo._hasResource["dojo.i18n"]){dojo._hasResource["dojo.i18n"]=true;dojo.provide("dojo.i18n");dojo.getObject("i18n",true,dojo);dojo.i18n.getLocalization=dojo.i18n.getLocalization||function(_109,_10a,_10b){_10b=dojo.i18n.normalizeLocale(_10b);var _10c=_10b.split("-");var _10d=[_109,"nls",_10a].join(".");var _10e=dojo._loadedModules[_10d];if(_10e){var _10f;for(var i=_10c.length;i>0;i--){var loc=_10c.slice(0,i).join("_");if(_10e[loc]){_10f=_10e[loc];break;}}if(!_10f){_10f=_10e.ROOT;}if(_10f){var _110=function(){};_110.prototype=_10f;return new _110();}}throw new Error("Bundle not found: "+_10a+" in "+_109+" , locale="+_10b);};dojo.i18n.normalizeLocale=function(_111){var _112=_111?_111.toLowerCase():dojo.locale;if(_112=="root"){_112="ROOT";}return _112;};dojo.i18n._requireLocalization=function(_113,_114,_115,_116){var _117=dojo.i18n.normalizeLocale(_115);var _118=[_113,"nls",_114].join(".");var _119="";if(_116){var _11a=_116.split(",");for(var i=0;i<_11a.length;i++){if(_117["indexOf"](_11a[i])==0){if(_11a[i].length>_119.length){_119=_11a[i];}}}if(!_119){_119="ROOT";}}var _11b=_116?_119:_117;var _11c=dojo._loadedModules[_118];var _11d=null;if(_11c){if(dojo.config.localizationComplete&&_11c._built){return;}var _11e=_11b.replace(/-/g,"_");var _11f=_118+"."+_11e;_11d=dojo._loadedModules[_11f];}if(!_11d){_11c=dojo["provide"](_118);var syms=dojo._getModuleSymbols(_113);var _120=syms.concat("nls").join("/");var _121;dojo.i18n._searchLocalePath(_11b,_116,function(loc){var _122=loc.replace(/-/g,"_");var _123=_118+"."+_122;var _124=false;if(!dojo._loadedModules[_123]){dojo["provide"](_123);var _125=[_120];if(loc!="ROOT"){_125.push(loc);}_125.push(_114);var _126=_125.join("/")+".js";_124=dojo._loadPath(_126,null,function(hash){hash=hash.root||hash;var _127=function(){};_127.prototype=_121;_11c[_122]=new _127();for(var j in hash){_11c[_122][j]=hash[j];}});}else{_124=true;}if(_124&&_11c[_122]){_121=_11c[_122];}else{_11c[_122]=_121;}if(_116){return true;}});}if(_116&&_117!=_119){_11c[_117.replace(/-/g,"_")]=_11c[_119.replace(/-/g,"_")];}};(function(){var _128=dojo.config.extraLocale;if(_128){if(!_128 instanceof Array){_128=[_128];}var req=dojo.i18n._requireLocalization;dojo.i18n._requireLocalization=function(m,b,_129,_12a){req(m,b,_129,_12a);if(_129){return;}for(var i=0;i<_128.length;i++){req(m,b,_128[i],_12a);}};}})();dojo.i18n._searchLocalePath=function(_12b,down,_12c){_12b=dojo.i18n.normalizeLocale(_12b);var _12d=_12b.split("-");var _12e=[];for(var i=_12d.length;i>0;i--){_12e.push(_12d.slice(0,i).join("-"));}_12e.push(false);if(down){_12e.reverse();}for(var j=_12e.length-1;j>=0;j--){var loc=_12e[j]||"ROOT";var stop=_12c(loc);if(stop){break;}}};dojo.i18n._preloadLocalizations=function(_12f,_130){function _131(_132){_132=dojo.i18n.normalizeLocale(_132);dojo.i18n._searchLocalePath(_132,true,function(loc){for(var i=0;i<_130.length;i++){if(_130[i]==loc){dojo["require"](_12f+"_"+loc);return true;}}return false;});};_131();var _133=dojo.config.extraLocale||[];for(var i=0;i<_133.length;i++){_131(_133[i]);}};}if(!dojo._hasResource["dojo.window"]){dojo._hasResource["dojo.window"]=true;dojo.provide("dojo.window");dojo.getObject("window",true,dojo);dojo.window.getBox=function(){var _134=(dojo.doc.compatMode=="BackCompat")?dojo.body():dojo.doc.documentElement;var _135=dojo._docScroll();return {w:_134.clientWidth,h:_134.clientHeight,l:_135.x,t:_135.y};};dojo.window.get=function(doc){if(dojo.isIE&&window!==document.parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc.parentWindow||doc.defaultView;};dojo.window.scrollIntoView=function(node,pos){try{node=dojo.byId(node);var doc=node.ownerDocument||dojo.doc,body=doc.body||dojo.body(),html=doc.documentElement||body.parentNode,isIE=dojo.isIE,isWK=dojo.isWebKit;if((!(dojo.isMoz||isIE||isWK||dojo.isOpera)||node==body||node==html)&&(typeof node.scrollIntoView!="undefined")){node.scrollIntoView(false);return;}var _136=doc.compatMode=="BackCompat",_137=(isIE>=9&&node.ownerDocument.parentWindow.frameElement)?((html.clientHeight>0&&html.clientWidth>0&&(body.clientHeight==0||body.clientWidth==0||body.clientHeight>html.clientHeight||body.clientWidth>html.clientWidth))?html:body):(_136?body:html),_138=isWK?body:_137,_139=_137.clientWidth,_13a=_137.clientHeight,rtl=!dojo._isBodyLtr(),_13b=pos||dojo.position(node),el=node.parentNode,_13c=function(el){return ((isIE<=6||(isIE&&_136))?false:(dojo.style(el,"position").toLowerCase()=="fixed"));};if(_13c(node)){return;}while(el){if(el==body){el=_138;}var _13d=dojo.position(el),_13e=_13c(el);if(el==_138){_13d.w=_139;_13d.h=_13a;if(_138==html&&isIE&&rtl){_13d.x+=_138.offsetWidth-_13d.w;}if(_13d.x<0||!isIE){_13d.x=0;}if(_13d.y<0||!isIE){_13d.y=0;}}else{var pb=dojo._getPadBorderExtents(el);_13d.w-=pb.w;_13d.h-=pb.h;_13d.x+=pb.l;_13d.y+=pb.t;var _13f=el.clientWidth,_140=_13d.w-_13f;if(_13f>0&&_140>0){_13d.w=_13f;_13d.x+=(rtl&&(isIE||el.clientLeft>pb.l))?_140:0;}_13f=el.clientHeight;_140=_13d.h-_13f;if(_13f>0&&_140>0){_13d.h=_13f;}}if(_13e){if(_13d.y<0){_13d.h+=_13d.y;_13d.y=0;}if(_13d.x<0){_13d.w+=_13d.x;_13d.x=0;}if(_13d.y+_13d.h>_13a){_13d.h=_13a-_13d.y;}if(_13d.x+_13d.w>_139){_13d.w=_139-_13d.x;}}var l=_13b.x-_13d.x,t=_13b.y-Math.max(_13d.y,0),r=l+_13b.w-_13d.w,bot=t+_13b.h-_13d.h;if(r*l>0){var s=Math[l<0?"max":"min"](l,r);if(rtl&&((isIE==8&&!_136)||isIE>=9)){s=-s;}_13b.x+=el.scrollLeft;el.scrollLeft+=s;_13b.x-=el.scrollLeft;}if(bot*t>0){_13b.y+=el.scrollTop;el.scrollTop+=Math[t<0?"max":"min"](t,bot);_13b.y-=el.scrollTop;}el=(el!=_138)&&!_13e&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);node.scrollIntoView(false);}};}if(!dojo._hasResource["dijit._base.manager"]){dojo._hasResource["dijit._base.manager"]=true;dojo.provide("dijit._base.manager");dojo.declare("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0;},add:function(_141){if(this._hash[_141.id]){throw new Error("Tried to register widget with id=="+_141.id+" but that id is already registered");}this._hash[_141.id]=_141;this.length++;},remove:function(id){if(this._hash[id]){delete this._hash[id];this.length--;}},forEach:function(func,_142){_142=_142||dojo.global;var i=0,id;for(id in this._hash){func.call(_142,this._hash[id],i++,this._hash);}return this;},filter:function(_143,_144){_144=_144||dojo.global;var res=new dijit.WidgetSet(),i=0,id;for(id in this._hash){var w=this._hash[id];if(_143.call(_144,w,i++,this._hash)){res.add(w);}}return res;},byId:function(id){return this._hash[id];},byClass:function(cls){var res=new dijit.WidgetSet(),id,_145;for(id in this._hash){_145=this._hash[id];if(_145.declaredClass==cls){res.add(_145);}}return res;},toArray:function(){var ar=[];for(var id in this._hash){ar.push(this._hash[id]);}return ar;},map:function(func,_146){return dojo.map(this.toArray(),func,_146);},every:function(func,_147){_147=_147||dojo.global;var x=0,i;for(i in this._hash){if(!func.call(_147,this._hash[i],x++,this._hash)){return false;}}return true;},some:function(func,_148){_148=_148||dojo.global;var x=0,i;for(i in this._hash){if(func.call(_148,this._hash[i],x++,this._hash)){return true;}}return false;}});(function(){dijit.registry=new dijit.WidgetSet();var hash=dijit.registry._hash,attr=dojo.attr,_149=dojo.hasAttr,_14a=dojo.style;dijit.byId=function(id){return typeof id=="string"?hash[id]:id;};var _14b={};dijit.getUniqueId=function(_14c){var id;do{id=_14c+"_"+(_14c in _14b?++_14b[_14c]:_14b[_14c]=0);}while(hash[id]);return dijit._scopeName=="dijit"?id:dijit._scopeName+"_"+id;};dijit.findWidgets=function(root){var _14d=[];function _14e(root){for(var node=root.firstChild;node;node=node.nextSibling){if(node.nodeType==1){var _14f=node.getAttribute("widgetId");if(_14f){var _150=hash[_14f];if(_150){_14d.push(_150);}}else{_14e(node);}}}};_14e(root);return _14d;};dijit._destroyAll=function(){dijit._curFocus=null;dijit._prevFocus=null;dijit._activeStack=[];dojo.forEach(dijit.findWidgets(dojo.body()),function(_151){if(!_151._destroyed){if(_151.destroyRecursive){_151.destroyRecursive();}else{if(_151.destroy){_151.destroy();}}}});};if(dojo.isIE){dojo.addOnWindowUnload(function(){dijit._destroyAll();});}dijit.byNode=function(node){return hash[node.getAttribute("widgetId")];};dijit.getEnclosingWidget=function(node){while(node){var id=node.getAttribute&&node.getAttribute("widgetId");if(id){return hash[id];}node=node.parentNode;}return null;};var _152=(dijit._isElementShown=function(elem){var s=_14a(elem);return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(attr(elem,"type")!="hidden");});dijit.hasDefaultTabStop=function(elem){switch(elem.nodeName.toLowerCase()){case "a":return _149(elem,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":var body;try{var _153=elem.contentDocument;if("designMode" in _153&&_153.designMode=="on"){return true;}body=_153.body;}catch(e1){try{body=elem.contentWindow.document.body;}catch(e2){return false;}}return body.contentEditable=="true"||(body.firstChild&&body.firstChild.contentEditable=="true");default:return elem.contentEditable=="true";}};var _154=(dijit.isTabNavigable=function(elem){if(attr(elem,"disabled")){return false;}else{if(_149(elem,"tabIndex")){return attr(elem,"tabIndex")>=0;}else{return dijit.hasDefaultTabStop(elem);}}});dijit._getTabNavigable=function(root){var _155,last,_156,_157,_158,_159,_15a={};function _15b(node){return node&&node.tagName.toLowerCase()=="input"&&node.type&&node.type.toLowerCase()=="radio"&&node.name&&node.name.toLowerCase();};var _15c=function(_15d){dojo.query("> *",_15d).forEach(function(_15e){if((dojo.isIE&&_15e.scopeName!=="HTML")||!_152(_15e)){return;}if(_154(_15e)){var _15f=attr(_15e,"tabIndex");if(!_149(_15e,"tabIndex")||_15f==0){if(!_155){_155=_15e;}last=_15e;}else{if(_15f>0){if(!_156||_15f<_157){_157=_15f;_156=_15e;}if(!_158||_15f>=_159){_159=_15f;_158=_15e;}}}var rn=_15b(_15e);if(dojo.attr(_15e,"checked")&&rn){_15a[rn]=_15e;}}if(_15e.nodeName.toUpperCase()!="SELECT"){_15c(_15e);}});};if(_152(root)){_15c(root);}function rs(node){return _15a[_15b(node)]||node;};return {first:rs(_155),last:rs(last),lowest:rs(_156),highest:rs(_158)};};dijit.getFirstInTabbingOrder=function(root){var _160=dijit._getTabNavigable(dojo.byId(root));return _160.lowest?_160.lowest:_160.first;};dijit.getLastInTabbingOrder=function(root){var _161=dijit._getTabNavigable(dojo.byId(root));return _161.last?_161.last:_161.highest;};dijit.defaultDuration=dojo.config["defaultDuration"]||200;})();}if(!dojo._hasResource["dojo.Stateful"]){dojo._hasResource["dojo.Stateful"]=true;dojo.provide("dojo.Stateful");dojo.declare("dojo.Stateful",null,{postscript:function(_162){if(_162){dojo.mixin(this,_162);}},get:function(name){return this[name];},set:function(name,_163){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _164=this[name];this[name]=_163;if(this._watchCallbacks){this._watchCallbacks(name,_164,_163);}return this;},watch:function(name,_165){var _166=this._watchCallbacks;if(!_166){var self=this;_166=this._watchCallbacks=function(name,_167,_168,_169){var _16a=function(_16b){if(_16b){_16b=_16b.slice();for(var i=0,l=_16b.length;i<l;i++){try{_16b[i].call(self,name,_167,_168);}catch(e){console.error(e);}}}};_16a(_166["_"+name]);if(!_169){_16a(_166["*"]);}};}if(!_165&&typeof name==="function"){_165=name;name="*";}else{name="_"+name;}var _16c=_166[name];if(typeof _16c!=="object"){_16c=_166[name]=[];}_16c.push(_165);return {unwatch:function(){_16c.splice(dojo.indexOf(_16c,_165),1);}};}});}if(!dojo._hasResource["dijit._WidgetBase"]){dojo._hasResource["dijit._WidgetBase"]=true;dojo.provide("dijit._WidgetBase");(function(){dojo.declare("dijit._WidgetBase",dojo.Stateful,{id:"",lang:"",dir:"","class":"",style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{id:"",dir:"",lang:"","class":"",style:"",title:""},_blankGif:(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif")).toString(),postscript:function(_16d,_16e){this.create(_16d,_16e);},create:function(_16f,_170){this.srcNodeRef=dojo.byId(_170);this._connects=[];this._subscribes=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_16f){this.params=_16f;dojo._mixin(this,_16f);}this.postMixInProperties();if(!this.id){this.id=dijit.getUniqueId(this.declaredClass.replace(/\./g,"_"));}dijit.registry.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();var _171=this.srcNodeRef;if(_171&&_171.parentNode&&this.domNode!==_171){_171.parentNode.replaceChild(this.domNode,_171);}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _172=function(attr,_173){if((_173.params&&attr in _173.params)||_173[attr]){_173.set(attr,_173[attr]);}};for(var attr in this.attributeMap){_172(attr,this);}dojo.forEach(this._getSetterAttributes(),function(a){if(!(a in this.attributeMap)){_172(a,this);}},this);},_getSetterAttributes:function(){var ctor=this.constructor;if(!ctor._setterAttrs){var r=(ctor._setterAttrs=[]),_174,_175=ctor.prototype;for(var _176 in _175){if(dojo.isFunction(_175[_176])&&(_174=_176.match(/^_set([a-zA-Z]*)Attr$/))&&_174[1]){r.push(_174[1].charAt(0).toLowerCase()+_174[1].substr(1));}}}return ctor._setterAttrs;},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||dojo.create("div");}if(this.baseClass){var _177=this.baseClass.split(" ");if(!this.isLeftToRight()){_177=_177.concat(dojo.map(_177,function(name){return name+"Rtl";}));}dojo.addClass(this.domNode,_177);}},postCreate:function(){},startup:function(){this._started=true;},destroyRecursive:function(_178){this._beingDestroyed=true;this.destroyDescendants(_178);this.destroy(_178);},destroy:function(_179){this._beingDestroyed=true;this.uninitialize();var d=dojo,dfe=d.forEach,dun=d.unsubscribe;dfe(this._connects,function(_17a){dfe(_17a,d.disconnect);});dfe(this._subscribes,function(_17b){dun(_17b);});dfe(this._supportingWidgets||[],function(w){if(w.destroyRecursive){w.destroyRecursive();}else{if(w.destroy){w.destroy();}}});this.destroyRendering(_179);dijit.registry.remove(this.id);this._destroyed=true;},destroyRendering:function(_17c){if(this.bgIframe){this.bgIframe.destroy(_17c);delete this.bgIframe;}if(this.domNode){if(_17c){dojo.removeAttr(this.domNode,"widgetId");}else{dojo.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_17c){dojo.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_17d){dojo.forEach(this.getChildren(),function(_17e){if(_17e.destroyRecursive){_17e.destroyRecursive(_17d);}});},uninitialize:function(){return false;},_setClassAttr:function(_17f){var _180=this[this.attributeMap["class"]||"domNode"];dojo.replaceClass(_180,_17f,this["class"]);this._set("class",_17f);},_setStyleAttr:function(_181){var _182=this[this.attributeMap.style||"domNode"];if(dojo.isObject(_181)){dojo.style(_182,_181);}else{if(_182.style.cssText){_182.style.cssText+="; "+_181;}else{_182.style.cssText=_181;}}this._set("style",_181);},_attrToDom:function(attr,_183){var _184=this.attributeMap[attr];dojo.forEach(dojo.isArray(_184)?_184:[_184],function(_185){var _186=this[_185.node||_185||"domNode"];var type=_185.type||"attribute";switch(type){case "attribute":if(dojo.isFunction(_183)){_183=dojo.hitch(this,_183);}var _187=_185.attribute?_185.attribute:(/^on[A-Z][a-zA-Z]*$/.test(attr)?attr.toLowerCase():attr);dojo.attr(_186,_187,_183);break;case "innerText":_186.innerHTML="";_186.appendChild(dojo.doc.createTextNode(_183));break;case "innerHTML":_186.innerHTML=_183;break;case "class":dojo.replaceClass(_186,_183,this[attr]);break;}},this);},get:function(name){var _188=this._getAttrNames(name);return this[_188.g]?this[_188.g]():this[name];},set:function(name,_189){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _18a=this._getAttrNames(name);if(this[_18a.s]){var _18b=this[_18a.s].apply(this,Array.prototype.slice.call(arguments,1));}else{if(name in this.attributeMap){this._attrToDom(name,_189);}this._set(name,_189);}return _18b||this;},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.charAt(0).toUpperCase()+name.substr(1);return (apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"});},_set:function(name,_18c){var _18d=this[name];this[name]=_18c;if(this._watchCallbacks&&this._created&&_18c!==_18d){this._watchCallbacks(name,_18d,_18c);}},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getDescendants:function(){return this.containerNode?dojo.query("[widgetId]",this.containerNode).map(dijit.byNode):[];},getChildren:function(){return this.containerNode?dijit.findWidgets(this.containerNode):[];},connect:function(obj,_18e,_18f){var _190=[dojo._connect(obj,_18e,this,_18f)];this._connects.push(_190);return _190;},disconnect:function(_191){for(var i=0;i<this._connects.length;i++){if(this._connects[i]==_191){dojo.forEach(_191,dojo.disconnect);this._connects.splice(i,1);return;}}},subscribe:function(_192,_193){var _194=dojo.subscribe(_192,this,_193);this._subscribes.push(_194);return _194;},unsubscribe:function(_195){for(var i=0;i<this._subscribes.length;i++){if(this._subscribes[i]==_195){dojo.unsubscribe(_195);this._subscribes.splice(i,1);return;}}},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):dojo._isBodyLtr();},placeAt:function(_196,_197){if(_196.declaredClass&&_196.addChild){_196.addChild(this,_197);}else{dojo.place(this.domNode,_196,_197);}return this;}});})();}if(!dojo._hasResource["dijit._base.focus"]){dojo._hasResource["dijit._base.focus"]=true;dojo.provide("dijit._base.focus");dojo.mixin(dijit,{_curFocus:null,_prevFocus:null,isCollapsed:function(){return dijit.getBookmark().isCollapsed;},getBookmark:function(){var bm,rg,tg,sel=dojo.doc.selection,cf=dijit._curFocus;if(dojo.global.getSelection){sel=dojo.global.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};if(sel.rangeCount){bm.mark=sel.getRangeAt(0).cloneRange();}}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{console.warn("No idea how to store the current selection for this browser!");}}return bm;},moveToBookmark:function(_198){var _199=dojo.doc,mark=_198.mark;if(mark){if(dojo.global.getSelection){var sel=dojo.global.getSelection();if(sel&&sel.removeAllRanges){if(mark.pRange){var r=mark;var n=r.node;n.selectionStart=r.start;n.selectionEnd=r.end;}else{sel.removeAllRanges();sel.addRange(mark);}}else{console.warn("No idea how to restore selection for this browser!");}}else{if(_199.selection&&mark){var rg;if(mark.pRange){rg=mark.range;}else{if(dojo.isArray(mark)){rg=_199.body.createControlRange();dojo.forEach(mark,function(n){rg.addElement(n);});}else{rg=_199.body.createTextRange();rg.moveToBookmark(mark);}}rg.select();}}}},getFocus:function(menu,_19a){var node=!dijit._curFocus||(menu&&dojo.isDescendant(dijit._curFocus,menu.domNode))?dijit._prevFocus:dijit._curFocus;return {node:node,bookmark:(node==dijit._curFocus)&&dojo.withGlobal(_19a||dojo.global,dijit.getBookmark),openedForWindow:_19a};},focus:function(_19b){if(!_19b){return;}var node="node" in _19b?_19b.node:_19b,_19c=_19b.bookmark,_19d=_19b.openedForWindow,_19e=_19c?_19c.isCollapsed:false;if(node){var _19f=(node.tagName.toLowerCase()=="iframe")?node.contentWindow:node;if(_19f&&_19f.focus){try{_19f.focus();}catch(e){}}dijit._onFocusNode(node);}if(_19c&&dojo.withGlobal(_19d||dojo.global,dijit.isCollapsed)&&!_19e){if(_19d){_19d.focus();}try{dojo.withGlobal(_19d||dojo.global,dijit.moveToBookmark,null,[_19c]);}catch(e2){}}},_activeStack:[],registerIframe:function(_1a0){return dijit.registerWin(_1a0.contentWindow,_1a0);},unregisterIframe:function(_1a1){dijit.unregisterWin(_1a1);},registerWin:function(_1a2,_1a3){var _1a4=function(evt){dijit._justMouseDowned=true;setTimeout(function(){dijit._justMouseDowned=false;},0);if(dojo.isIE&&evt&&evt.srcElement&&evt.srcElement.parentNode==null){return;}dijit._onTouchNode(_1a3||evt.target||evt.srcElement,"mouse");};var doc=dojo.isIE?_1a2.document.documentElement:_1a2.document;if(doc){if(dojo.isIE){_1a2.document.body.attachEvent("onmousedown",_1a4);var _1a5=function(evt){if(evt.srcElement.tagName.toLowerCase()!="#document"&&dijit.isTabNavigable(evt.srcElement)){dijit._onFocusNode(_1a3||evt.srcElement);}else{dijit._onTouchNode(_1a3||evt.srcElement);}};doc.attachEvent("onactivate",_1a5);var _1a6=function(evt){dijit._onBlurNode(_1a3||evt.srcElement);};doc.attachEvent("ondeactivate",_1a6);return function(){_1a2.document.detachEvent("onmousedown",_1a4);doc.detachEvent("onactivate",_1a5);doc.detachEvent("ondeactivate",_1a6);doc=null;};}else{doc.body.addEventListener("mousedown",_1a4,true);var _1a7=function(evt){dijit._onFocusNode(_1a3||evt.target);};doc.addEventListener("focus",_1a7,true);var _1a8=function(evt){dijit._onBlurNode(_1a3||evt.target);};doc.addEventListener("blur",_1a8,true);return function(){doc.body.removeEventListener("mousedown",_1a4,true);doc.removeEventListener("focus",_1a7,true);doc.removeEventListener("blur",_1a8,true);doc=null;};}}},unregisterWin:function(_1a9){_1a9&&_1a9();},_onBlurNode:function(node){dijit._prevFocus=dijit._curFocus;dijit._curFocus=null;if(dijit._justMouseDowned){return;}if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);}dijit._clearActiveWidgetsTimer=setTimeout(function(){delete dijit._clearActiveWidgetsTimer;dijit._setStack([]);dijit._prevFocus=null;},100);},_onTouchNode:function(node,by){if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);delete dijit._clearActiveWidgetsTimer;}var _1aa=[];try{while(node){var _1ab=dojo.attr(node,"dijitPopupParent");if(_1ab){node=dijit.byId(_1ab).domNode;}else{if(node.tagName&&node.tagName.toLowerCase()=="body"){if(node===dojo.body()){break;}node=dojo.window.get(node.ownerDocument).frameElement;}else{var id=node.getAttribute&&node.getAttribute("widgetId"),_1ac=id&&dijit.byId(id);if(_1ac&&!(by=="mouse"&&_1ac.get("disabled"))){_1aa.unshift(id);}node=node.parentNode;}}}}catch(e){}dijit._setStack(_1aa,by);},_onFocusNode:function(node){if(!node){return;}if(node.nodeType==9){return;}dijit._onTouchNode(node);if(node==dijit._curFocus){return;}if(dijit._curFocus){dijit._prevFocus=dijit._curFocus;}dijit._curFocus=node;dojo.publish("focusNode",[node]);},_setStack:function(_1ad,by){var _1ae=dijit._activeStack;dijit._activeStack=_1ad;for(var _1af=0;_1af<Math.min(_1ae.length,_1ad.length);_1af++){if(_1ae[_1af]!=_1ad[_1af]){break;}}var _1b0;for(var i=_1ae.length-1;i>=_1af;i--){_1b0=dijit.byId(_1ae[i]);if(_1b0){_1b0._focused=false;_1b0.set("focused",false);_1b0._hasBeenBlurred=true;if(_1b0._onBlur){_1b0._onBlur(by);}dojo.publish("widgetBlur",[_1b0,by]);}}for(i=_1af;i<_1ad.length;i++){_1b0=dijit.byId(_1ad[i]);if(_1b0){_1b0._focused=true;_1b0.set("focused",true);if(_1b0._onFocus){_1b0._onFocus(by);}dojo.publish("widgetFocus",[_1b0,by]);}}}});dojo.addOnLoad(function(){var _1b1=dijit.registerWin(window);if(dojo.isIE){dojo.addOnWindowUnload(function(){dijit.unregisterWin(_1b1);_1b1=null;});}});}if(!dojo._hasResource["dojo.AdapterRegistry"]){dojo._hasResource["dojo.AdapterRegistry"]=true;dojo.provide("dojo.AdapterRegistry");dojo.AdapterRegistry=function(_1b2){this.pairs=[];this.returnWrappers=_1b2||false;};dojo.extend(dojo.AdapterRegistry,{register:function(name,_1b3,wrap,_1b4,_1b5){this.pairs[((_1b5)?"unshift":"push")]([name,_1b3,wrap,_1b4]);},match:function(){for(var i=0;i<this.pairs.length;i++){var pair=this.pairs[i];if(pair[1].apply(this,arguments)){if((pair[3])||(this.returnWrappers)){return pair[2];}else{return pair[2].apply(this,arguments);}}}throw new Error("No match found");},unregister:function(name){for(var i=0;i<this.pairs.length;i++){var pair=this.pairs[i];if(pair[0]==name){this.pairs.splice(i,1);return true;}}return false;}});}if(!dojo._hasResource["dijit._base.place"]){dojo._hasResource["dijit._base.place"]=true;dojo.provide("dijit._base.place");dijit.getViewport=function(){return dojo.window.getBox();};dijit.placeOnScreen=function(node,pos,_1b6,_1b7){var _1b8=dojo.map(_1b6,function(_1b9){var c={corner:_1b9,pos:{x:pos.x,y:pos.y}};if(_1b7){c.pos.x+=_1b9.charAt(1)=="L"?_1b7.x:-_1b7.x;c.pos.y+=_1b9.charAt(0)=="T"?_1b7.y:-_1b7.y;}return c;});return dijit._place(node,_1b8);};dijit._place=function(node,_1ba,_1bb,_1bc){var view=dojo.window.getBox();if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){dojo.body().appendChild(node);}var best=null;dojo.some(_1ba,function(_1bd){var _1be=_1bd.corner;var pos=_1bd.pos;var _1bf=0;var _1c0={w:_1be.charAt(1)=="L"?(view.l+view.w)-pos.x:pos.x-view.l,h:_1be.charAt(1)=="T"?(view.t+view.h)-pos.y:pos.y-view.t};if(_1bb){var res=_1bb(node,_1bd.aroundCorner,_1be,_1c0,_1bc);_1bf=typeof res=="undefined"?0:res;}var _1c1=node.style;var _1c2=_1c1.display;var _1c3=_1c1.visibility;_1c1.visibility="hidden";_1c1.display="";var mb=dojo.marginBox(node);_1c1.display=_1c2;_1c1.visibility=_1c3;var _1c4=Math.max(view.l,_1be.charAt(1)=="L"?pos.x:(pos.x-mb.w)),_1c5=Math.max(view.t,_1be.charAt(0)=="T"?pos.y:(pos.y-mb.h)),endX=Math.min(view.l+view.w,_1be.charAt(1)=="L"?(_1c4+mb.w):pos.x),endY=Math.min(view.t+view.h,_1be.charAt(0)=="T"?(_1c5+mb.h):pos.y),_1c6=endX-_1c4,_1c7=endY-_1c5;_1bf+=(mb.w-_1c6)+(mb.h-_1c7);if(best==null||_1bf<best.overflow){best={corner:_1be,aroundCorner:_1bd.aroundCorner,x:_1c4,y:_1c5,w:_1c6,h:_1c7,overflow:_1bf,spaceAvailable:_1c0};}return !_1bf;});if(best.overflow&&_1bb){_1bb(node,best.aroundCorner,best.corner,best.spaceAvailable,_1bc);}var l=dojo._isBodyLtr(),s=node.style;s.top=best.y+"px";s[l?"left":"right"]=(l?best.x:view.w-best.x-best.w)+"px";return best;};dijit.placeOnScreenAroundNode=function(node,_1c8,_1c9,_1ca){_1c8=dojo.byId(_1c8);var _1cb=dojo.position(_1c8,true);return dijit._placeOnScreenAroundRect(node,_1cb.x,_1cb.y,_1cb.w,_1cb.h,_1c9,_1ca);};dijit.placeOnScreenAroundRectangle=function(node,_1cc,_1cd,_1ce){return dijit._placeOnScreenAroundRect(node,_1cc.x,_1cc.y,_1cc.width,_1cc.height,_1cd,_1ce);};dijit._placeOnScreenAroundRect=function(node,x,y,_1cf,_1d0,_1d1,_1d2){var _1d3=[];for(var _1d4 in _1d1){_1d3.push({aroundCorner:_1d4,corner:_1d1[_1d4],pos:{x:x+(_1d4.charAt(1)=="L"?0:_1cf),y:y+(_1d4.charAt(0)=="T"?0:_1d0)}});}return dijit._place(node,_1d3,_1d2,{w:_1cf,h:_1d0});};dijit.placementRegistry=new dojo.AdapterRegistry();dijit.placementRegistry.register("node",function(n,x){return typeof x=="object"&&typeof x.offsetWidth!="undefined"&&typeof x.offsetHeight!="undefined";},dijit.placeOnScreenAroundNode);dijit.placementRegistry.register("rect",function(n,x){return typeof x=="object"&&"x" in x&&"y" in x&&"width" in x&&"height" in x;},dijit.placeOnScreenAroundRectangle);dijit.placeOnScreenAroundElement=function(node,_1d5,_1d6,_1d7){return dijit.placementRegistry.match.apply(dijit.placementRegistry,arguments);};dijit.getPopupAroundAlignment=function(_1d8,_1d9){var _1da={};dojo.forEach(_1d8,function(pos){switch(pos){case "after":_1da[_1d9?"BR":"BL"]=_1d9?"BL":"BR";break;case "before":_1da[_1d9?"BL":"BR"]=_1d9?"BR":"BL";break;case "below-alt":_1d9=!_1d9;case "below":_1da[_1d9?"BL":"BR"]=_1d9?"TL":"TR";_1da[_1d9?"BR":"BL"]=_1d9?"TR":"TL";break;case "above-alt":_1d9=!_1d9;case "above":default:_1da[_1d9?"TL":"TR"]=_1d9?"BL":"BR";_1da[_1d9?"TR":"TL"]=_1d9?"BR":"BL";break;}});return _1da;};}if(!dojo._hasResource["dijit._base.window"]){dojo._hasResource["dijit._base.window"]=true;dojo.provide("dijit._base.window");dijit.getDocumentWindow=function(doc){return dojo.window.get(doc);};}if(!dojo._hasResource["dijit._base.popup"]){dojo._hasResource["dijit._base.popup"]=true;dojo.provide("dijit._base.popup");dijit.popup={_stack:[],_beginZIndex:1000,_idGen:1,_createWrapper:function(_1db){var _1dc=_1db.declaredClass?_1db._popupWrapper:(_1db.parentNode&&dojo.hasClass(_1db.parentNode,"dijitPopup")),node=_1db.domNode||_1db;if(!_1dc){_1dc=dojo.create("div",{"class":"dijitPopup",style:{display:"none"},role:"presentation"},dojo.body());_1dc.appendChild(node);var s=node.style;s.display="";s.visibility="";s.position="";s.top="0px";if(_1db.declaredClass){_1db._popupWrapper=_1dc;dojo.connect(_1db,"destroy",function(){dojo.destroy(_1dc);delete _1db._popupWrapper;});}}return _1dc;},moveOffScreen:function(_1dd){var _1de=this._createWrapper(_1dd);dojo.style(_1de,{visibility:"hidden",top:"-9999px",display:""});},hide:function(_1df){var _1e0=this._createWrapper(_1df);dojo.style(_1e0,"display","none");},getTopPopup:function(){var _1e1=this._stack;for(var pi=_1e1.length-1;pi>0&&_1e1[pi].parent===_1e1[pi-1].widget;pi--){}return _1e1[pi];},open:function(args){var _1e2=this._stack,_1e3=args.popup,_1e4=args.orient||((args.parent?args.parent.isLeftToRight():dojo._isBodyLtr())?{"BL":"TL","BR":"TR","TL":"BL","TR":"BR"}:{"BR":"TR","BL":"TL","TR":"BR","TL":"BL"}),_1e5=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);while(_1e2.length&&(!args.parent||!dojo.isDescendant(args.parent.domNode,_1e2[_1e2.length-1].widget.domNode))){dijit.popup.close(_1e2[_1e2.length-1].widget);}var _1e6=this._createWrapper(_1e3);dojo.attr(_1e6,{id:id,style:{zIndex:this._beginZIndex+_1e2.length},"class":"dijitPopup "+(_1e3.baseClass||_1e3["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});if(dojo.isIE||dojo.isMoz){if(!_1e3.bgIframe){_1e3.bgIframe=new dijit.BackgroundIframe(_1e6);}}var best=_1e5?dijit.placeOnScreenAroundElement(_1e6,_1e5,_1e4,_1e3.orient?dojo.hitch(_1e3,"orient"):null):dijit.placeOnScreen(_1e6,args,_1e4=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding);_1e6.style.display="";_1e6.style.visibility="visible";_1e3.domNode.style.visibility="visible";var _1e7=[];_1e7.push(dojo.connect(_1e6,"onkeypress",this,function(evt){if(evt.charOrCode==dojo.keys.ESCAPE&&args.onCancel){dojo.stopEvent(evt);args.onCancel();}else{if(evt.charOrCode===dojo.keys.TAB){dojo.stopEvent(evt);var _1e8=this.getTopPopup();if(_1e8&&_1e8.onCancel){_1e8.onCancel();}}}}));if(_1e3.onCancel){_1e7.push(dojo.connect(_1e3,"onCancel",args.onCancel));}_1e7.push(dojo.connect(_1e3,_1e3.onExecute?"onExecute":"onChange",this,function(){var _1e9=this.getTopPopup();if(_1e9&&_1e9.onExecute){_1e9.onExecute();}}));_1e2.push({widget:_1e3,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_1e7});if(_1e3.onOpen){_1e3.onOpen(best);}return best;},close:function(_1ea){var _1eb=this._stack;while((_1ea&&dojo.some(_1eb,function(elem){return elem.widget==_1ea;}))||(!_1ea&&_1eb.length)){var top=_1eb.pop(),_1ec=top.widget,_1ed=top.onClose;if(_1ec.onClose){_1ec.onClose();}dojo.forEach(top.handlers,dojo.disconnect);if(_1ec&&_1ec.domNode){this.hide(_1ec);}if(_1ed){_1ed();}}}};dijit._frames=new function(){var _1ee=[];this.pop=function(){var _1ef;if(_1ee.length){_1ef=_1ee.pop();_1ef.style.display="";}else{if(dojo.isIE<9){var burl=dojo.config["dojoBlankHtmlUrl"]||(dojo.moduleUrl("dojo","resources/blank.html")+"")||"javascript:\"\"";var html="<iframe src='"+burl+"'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_1ef=dojo.doc.createElement(html);}else{_1ef=dojo.create("iframe");_1ef.src="javascript:\"\"";_1ef.className="dijitBackgroundIframe";dojo.style(_1ef,"opacity",0.1);}_1ef.tabIndex=-1;dijit.setWaiRole(_1ef,"presentation");}return _1ef;};this.push=function(_1f0){_1f0.style.display="none";_1ee.push(_1f0);};}();dijit.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(dojo.isIE||dojo.isMoz){var _1f1=(this.iframe=dijit._frames.pop());node.appendChild(_1f1);if(dojo.isIE<7||dojo.isQuirks){this.resize(node);this._conn=dojo.connect(node,"onresize",this,function(){this.resize(node);});}else{dojo.style(_1f1,{width:"100%",height:"100%"});}}};dojo.extend(dijit.BackgroundIframe,{resize:function(node){if(this.iframe){dojo.style(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});}},destroy:function(){if(this._conn){dojo.disconnect(this._conn);this._conn=null;}if(this.iframe){dijit._frames.push(this.iframe);delete this.iframe;}}});}if(!dojo._hasResource["dijit._base.scroll"]){dojo._hasResource["dijit._base.scroll"]=true;dojo.provide("dijit._base.scroll");dijit.scrollIntoView=function(node,pos){dojo.window.scrollIntoView(node,pos);};}if(!dojo._hasResource["dojo.uacss"]){dojo._hasResource["dojo.uacss"]=true;dojo.provide("dojo.uacss");(function(){var d=dojo,html=d.doc.documentElement,ie=d.isIE,_1f2=d.isOpera,maj=Math.floor,ff=d.isFF,_1f3=d.boxModel.replace(/-/,""),_1f4={dj_ie:ie,dj_ie6:maj(ie)==6,dj_ie7:maj(ie)==7,dj_ie8:maj(ie)==8,dj_ie9:maj(ie)==9,dj_quirks:d.isQuirks,dj_iequirks:ie&&d.isQuirks,dj_opera:_1f2,dj_khtml:d.isKhtml,dj_webkit:d.isWebKit,dj_safari:d.isSafari,dj_chrome:d.isChrome,dj_gecko:d.isMozilla,dj_ff3:maj(ff)==3};_1f4["dj_"+_1f3]=true;var _1f5="";for(var clz in _1f4){if(_1f4[clz]){_1f5+=clz+" ";}}html.className=d.trim(html.className+" "+_1f5);dojo._loaders.unshift(function(){if(!dojo._isBodyLtr()){var _1f6="dj_rtl dijitRtl "+_1f5.replace(/ /g,"-rtl ");html.className=d.trim(html.className+" "+_1f6);}});})();}if(!dojo._hasResource["dijit._base.sniff"]){dojo._hasResource["dijit._base.sniff"]=true;dojo.provide("dijit._base.sniff");}if(!dojo._hasResource["dijit._base.typematic"]){dojo._hasResource["dijit._base.typematic"]=true;dojo.provide("dijit._base.typematic");dijit.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);this._timer=setTimeout(dojo.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_1f7,node,_1f8,obj,_1f9,_1fa,_1fb){if(obj!=this._obj){this.stop();this._initialDelay=_1fa||500;this._subsequentDelay=_1f9||0.9;this._minDelay=_1fb||10;this._obj=obj;this._evt=evt;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=dojo.hitch(_1f7,_1f8);this._fireEventAndReload();this._evt=dojo.mixin({faux:true},evt);}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_1fc,_1fd,_1fe,_1ff,_200,_201){if(_1fc.keyCode){_1fc.charOrCode=_1fc.keyCode;dojo.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_1fc.charCode){_1fc.charOrCode=String.fromCharCode(_1fc.charCode);dojo.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}return [dojo.connect(node,"onkeypress",this,function(evt){if(evt.charOrCode==_1fc.charOrCode&&(_1fc.ctrlKey===undefined||_1fc.ctrlKey==evt.ctrlKey)&&(_1fc.altKey===undefined||_1fc.altKey==evt.altKey)&&(_1fc.metaKey===undefined||_1fc.metaKey==(evt.metaKey||false))&&(_1fc.shiftKey===undefined||_1fc.shiftKey==evt.shiftKey)){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_1fd,node,_1fe,_1fc,_1ff,_200,_201);}else{if(dijit.typematic._obj==_1fc){dijit.typematic.stop();}}}),dojo.connect(node,"onkeyup",this,function(evt){if(dijit.typematic._obj==_1fc){dijit.typematic.stop();}})];},addMouseListener:function(node,_202,_203,_204,_205,_206){var dc=dojo.connect;return [dc(node,"mousedown",this,function(evt){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_202,node,_203,node,_204,_205,_206);}),dc(node,"mouseup",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mouseout",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mousemove",this,function(evt){evt.preventDefault();}),dc(node,"dblclick",this,function(evt){dojo.stopEvent(evt);if(dojo.isIE){dijit.typematic.trigger(evt,_202,node,_203,node,_204,_205,_206);setTimeout(dojo.hitch(this,dijit.typematic.stop),50);}})];},addListener:function(_207,_208,_209,_20a,_20b,_20c,_20d,_20e){return this.addKeyListener(_208,_209,_20a,_20b,_20c,_20d,_20e).concat(this.addMouseListener(_207,_20a,_20b,_20c,_20d,_20e));}};}if(!dojo._hasResource["dijit._base.wai"]){dojo._hasResource["dijit._base.wai"]=true;dojo.provide("dijit._base.wai");dijit.wai={onload:function(){var div=dojo.create("div",{id:"a11yTestNode",style:{cssText:"border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"height: 5px;"+"top: -999px;"+"background-image: url(\""+(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif"))+"\");"}},dojo.body());var cs=dojo.getComputedStyle(div);if(cs){var _20f=cs.backgroundImage;var _210=(cs.borderTopColor==cs.borderRightColor)||(_20f!=null&&(_20f=="none"||_20f=="url(invalid-url:)"));dojo[_210?"addClass":"removeClass"](dojo.body(),"dijit_a11y");if(dojo.isIE){div.outerHTML="";}else{dojo.body().removeChild(div);}}}};if(dojo.isIE||dojo.isMoz){dojo._loaders.unshift(dijit.wai.onload);}dojo.mixin(dijit,{hasWaiRole:function(elem,role){var _211=this.getWaiRole(elem);return role?(_211.indexOf(role)>-1):(_211.length>0);},getWaiRole:function(elem){return dojo.trim((dojo.attr(elem,"role")||"").replace("wairole:",""));},setWaiRole:function(elem,role){dojo.attr(elem,"role",role);},removeWaiRole:function(elem,role){var _212=dojo.attr(elem,"role");if(!_212){return;}if(role){var t=dojo.trim((" "+_212+" ").replace(" "+role+" "," "));dojo.attr(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,_213){return elem.hasAttribute?elem.hasAttribute("aria-"+_213):!!elem.getAttribute("aria-"+_213);},getWaiState:function(elem,_214){return elem.getAttribute("aria-"+_214)||"";},setWaiState:function(elem,_215,_216){elem.setAttribute("aria-"+_215,_216);},removeWaiState:function(elem,_217){elem.removeAttribute("aria-"+_217);}});}if(!dojo._hasResource["dijit._base"]){dojo._hasResource["dijit._base"]=true;dojo.provide("dijit._base");}if(!dojo._hasResource["dijit._Widget"]){dojo._hasResource["dijit._Widget"]=true;dojo.provide("dijit._Widget");dojo.connect(dojo,"_connect",function(_218,_219){if(_218&&dojo.isFunction(_218._onConnect)){_218._onConnect(_219);}});dijit._connectOnUseEventHandler=function(_21a){};dijit._lastKeyDownNode=null;if(dojo.isIE){(function(){var _21b=function(evt){dijit._lastKeyDownNode=evt.srcElement;};dojo.doc.attachEvent("onkeydown",_21b);dojo.addOnWindowUnload(function(){dojo.doc.detachEvent("onkeydown",_21b);});})();}else{dojo.doc.addEventListener("keydown",function(evt){dijit._lastKeyDownNode=evt.target;},true);}(function(){dojo.declare("dijit._Widget",dijit._WidgetBase,{_deferredConnects:{onClick:"",onDblClick:"",onKeyDown:"",onKeyPress:"",onKeyUp:"",onMouseMove:"",onMouseDown:"",onMouseOut:"",onMouseOver:"",onMouseLeave:"",onMouseEnter:"",onMouseUp:""},onClick:dijit._connectOnUseEventHandler,onDblClick:dijit._connectOnUseEventHandler,onKeyDown:dijit._connectOnUseEventHandler,onKeyPress:dijit._connectOnUseEventHandler,onKeyUp:dijit._connectOnUseEventHandler,onMouseDown:dijit._connectOnUseEventHandler,onMouseMove:dijit._connectOnUseEventHandler,onMouseOut:dijit._connectOnUseEventHandler,onMouseOver:dijit._connectOnUseEventHandler,onMouseLeave:dijit._connectOnUseEventHandler,onMouseEnter:dijit._connectOnUseEventHandler,onMouseUp:dijit._connectOnUseEventHandler,create:function(_21c,_21d){this._deferredConnects=dojo.clone(this._deferredConnects);for(var attr in this.attributeMap){delete this._deferredConnects[attr];}for(attr in this._deferredConnects){if(this[attr]!==dijit._connectOnUseEventHandler){delete this._deferredConnects[attr];}}this.inherited(arguments);if(this.domNode){for(attr in this.params){this._onConnect(attr);}}},_onConnect:function(_21e){if(_21e in this._deferredConnects){var _21f=this[this._deferredConnects[_21e]||"domNode"];this.connect(_21f,_21e.toLowerCase(),_21e);delete this._deferredConnects[_21e];}},focused:false,isFocusable:function(){return this.focus&&(dojo.style(this.domNode,"display")!="none");},onFocus:function(){},onBlur:function(){},_onFocus:function(e){this.onFocus();},_onBlur:function(){this.onBlur();},setAttribute:function(attr,_220){dojo.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(attr,_220);},attr:function(name,_221){if(dojo.config.isDebug){var _222=arguments.callee._ach||(arguments.callee._ach={}),_223=(arguments.callee.caller||"unknown caller").toString();if(!_222[_223]){dojo.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+_223,"","2.0");_222[_223]=true;}}var args=arguments.length;if(args>=2||typeof name==="object"){return this.set.apply(this,arguments);}else{return this.get(name);}},nodesWithKeyClick:["input","button"],connect:function(obj,_224,_225){var d=dojo,dc=d._connect,_226=this.inherited(arguments,[obj,_224=="ondijitclick"?"onclick":_224,_225]);if(_224=="ondijitclick"){if(d.indexOf(this.nodesWithKeyClick,obj.nodeName.toLowerCase())==-1){var m=d.hitch(this,_225);_226.push(dc(obj,"onkeydown",this,function(e){if((e.keyCode==d.keys.ENTER||e.keyCode==d.keys.SPACE)&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){dijit._lastKeyDownNode=e.target;if(!("openDropDown" in this&&obj==this._buttonNode)){e.preventDefault();}}}),dc(obj,"onkeyup",this,function(e){if((e.keyCode==d.keys.ENTER||e.keyCode==d.keys.SPACE)&&e.target==dijit._lastKeyDownNode&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){dijit._lastKeyDownNode=null;return m(e);}}));}}return _226;},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){},onClose:function(){return true;}});})();}if(!dojo._hasResource["dojo.string"]){dojo._hasResource["dojo.string"]=true;dojo.provide("dojo.string");dojo.getObject("string",true,dojo);dojo.string.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};dojo.string.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=dojo.string.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};dojo.string.substitute=function(_227,map,_228,_229){_229=_229||dojo.global;_228=_228?dojo.hitch(_229,_228):function(v){return v;};return _227.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_22a,key,_22b){var _22c=dojo.getObject(key,false,map);if(_22b){_22c=dojo.getObject(_22b,false,_229).call(_229,_22c,key);}return _228(_22c,key).toString();});};dojo.string.trim=String.prototype.trim?dojo.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};}if(!dojo._hasResource["dojo.parser"]){dojo._hasResource["dojo.parser"]=true;dojo.provide("dojo.parser");new Date("X");dojo.parser=new function(){var d=dojo;function _22d(_22e){if(d.isString(_22e)){return "string";}if(typeof _22e=="number"){return "number";}if(typeof _22e=="boolean"){return "boolean";}if(d.isFunction(_22e)){return "function";}if(d.isArray(_22e)){return "array";}if(_22e instanceof Date){return "date";}if(_22e instanceof d._Url){return "url";}return "object";};function _22f(_230,type){switch(type){case "string":return _230;case "number":return _230.length?Number(_230):NaN;case "boolean":return typeof _230=="boolean"?_230:!(_230.toLowerCase()=="false");case "function":if(d.isFunction(_230)){_230=_230.toString();_230=d.trim(_230.substring(_230.indexOf("{")+1,_230.length-1));}try{if(_230===""||_230.search(/[^\w\.]+/i)!=-1){return new Function(_230);}else{return d.getObject(_230,false)||new Function(_230);}}catch(e){return new Function();}case "array":return _230?_230.split(/\s*,\s*/):[];case "date":switch(_230){case "":return new Date("");case "now":return new Date();default:return d.date.stamp.fromISOString(_230);}case "url":return d.baseUrl+_230;default:return d.fromJson(_230);}};var _231={},_232={};d.connect(d,"extend",function(){_232={};});function _233(cls,_234){for(var name in cls){if(name.charAt(0)=="_"){continue;}if(name in _231){continue;}_234[name]=_22d(cls[name]);}return _234;};function _235(_236,_237){var c=_232[_236];if(!c){var cls=d.getObject(_236),_238=null;if(!cls){return null;}if(!_237){_238=_233(cls.prototype,{});}c={cls:cls,params:_238};}else{if(!_237&&!c.params){c.params=_233(c.cls.prototype,{});}}return c;};this._functionFromScript=function(_239,_23a){var _23b="";var _23c="";var _23d=(_239.getAttribute(_23a+"args")||_239.getAttribute("args"));if(_23d){d.forEach(_23d.split(/\s*,\s*/),function(part,idx){_23b+="var "+part+" = arguments["+idx+"]; ";});}var _23e=_239.getAttribute("with");if(_23e&&_23e.length){d.forEach(_23e.split(/\s*,\s*/),function(part){_23b+="with("+part+"){";_23c+="}";});}return new Function(_23b+_239.innerHTML+_23c);};this.instantiate=function(_23f,_240,args){var _241=[],_240=_240||{};args=args||{};var _242=(args.scope||d._scopeName)+"Type",_243="data-"+(args.scope||d._scopeName)+"-";d.forEach(_23f,function(obj){if(!obj){return;}var node,type,_244,_245,_246,_247;if(obj.node){node=obj.node;type=obj.type;_247=obj.fastpath;_244=obj.clsInfo||(type&&_235(type,_247));_245=_244&&_244.cls;_246=obj.scripts;}else{node=obj;type=_242 in _240?_240[_242]:node.getAttribute(_242);_244=type&&_235(type);_245=_244&&_244.cls;_246=(_245&&(_245._noScript||_245.prototype._noScript)?[]:d.query("> script[type^='dojo/']",node));}if(!_244){throw new Error("Could not load class '"+type);}var _248={};if(args.defaults){d._mixin(_248,args.defaults);}if(obj.inherited){d._mixin(_248,obj.inherited);}if(_247){var _249=node.getAttribute(_243+"props");if(_249&&_249.length){try{_249=d.fromJson.call(args.propsThis,"{"+_249+"}");d._mixin(_248,_249);}catch(e){throw new Error(e.toString()+" in data-dojo-props='"+_249+"'");}}var _24a=node.getAttribute(_243+"attach-point");if(_24a){_248.dojoAttachPoint=_24a;}var _24b=node.getAttribute(_243+"attach-event");if(_24b){_248.dojoAttachEvent=_24b;}dojo.mixin(_248,_240);}else{var _24c=node.attributes;for(var name in _244.params){var item=name in _240?{value:_240[name],specified:true}:_24c.getNamedItem(name);if(!item||(!item.specified&&(!dojo.isIE||name.toLowerCase()!="value"))){continue;}var _24d=item.value;switch(name){case "class":_24d="className" in _240?_240.className:node.className;break;case "style":_24d="style" in _240?_240.style:(node.style&&node.style.cssText);}var _24e=_244.params[name];if(typeof _24d=="string"){_248[name]=_22f(_24d,_24e);}else{_248[name]=_24d;}}}var _24f=[],_250=[];d.forEach(_246,function(_251){node.removeChild(_251);var _252=(_251.getAttribute(_243+"event")||_251.getAttribute("event")),type=_251.getAttribute("type"),nf=d.parser._functionFromScript(_251,_243);if(_252){if(type=="dojo/connect"){_24f.push({event:_252,func:nf});}else{_248[_252]=nf;}}else{_250.push(nf);}});var _253=_245.markupFactory||_245.prototype&&_245.prototype.markupFactory;var _254=_253?_253(_248,node,_245):new _245(_248,node);_241.push(_254);var _255=(node.getAttribute(_243+"id")||node.getAttribute("jsId"));if(_255){d.setObject(_255,_254);}d.forEach(_24f,function(_256){d.connect(_254,_256.event,null,_256.func);});d.forEach(_250,function(func){func.call(_254);});});if(!_240._started){d.forEach(_241,function(_257){if(!args.noStart&&_257&&dojo.isFunction(_257.startup)&&!_257._started&&(!_257.getParent||!_257.getParent())){_257.startup();}});}return _241;};this.parse=function(_258,args){var root;if(!args&&_258&&_258.rootNode){args=_258;root=args.rootNode;}else{root=_258;}root=root?dojo.byId(root):dojo.body();args=args||{};var _259=(args.scope||d._scopeName)+"Type",_25a="data-"+(args.scope||d._scopeName)+"-";function scan(_25b,list){var _25c=dojo.clone(_25b.inherited);dojo.forEach(["dir","lang"],function(name){var val=_25b.node.getAttribute(name);if(val){_25c[name]=val;}});var _25d=_25b.clsInfo&&!_25b.clsInfo.cls.prototype._noScript?_25b.scripts:null;var _25e=(!_25b.clsInfo||!_25b.clsInfo.cls.prototype.stopParser)||(args&&args.template);for(var _25f=_25b.node.firstChild;_25f;_25f=_25f.nextSibling){if(_25f.nodeType==1){var type,_260=_25e&&_25f.getAttribute(_25a+"type");if(_260){type=_260;}else{type=_25e&&_25f.getAttribute(_259);}var _261=_260==type;if(type){var _262={"type":type,fastpath:_261,clsInfo:_235(type,_261),node:_25f,scripts:[],inherited:_25c};list.push(_262);scan(_262,list);}else{if(_25d&&_25f.nodeName.toLowerCase()=="script"){type=_25f.getAttribute("type");if(type&&/^dojo\/\w/i.test(type)){_25d.push(_25f);}}else{if(_25e){scan({node:_25f,inherited:_25c},list);}}}}}};var _263={};if(args&&args.inherited){for(var key in args.inherited){if(args.inherited[key]){_263[key]=args.inherited[key];}}}var list=[];scan({node:root,inherited:_263},list);var _264=args&&args.template?{template:true}:null;return this.instantiate(list,_264,args);};}();(function(){var _265=function(){if(dojo.config.parseOnLoad){dojo.parser.parse();}};if(dojo.getObject("dijit.wai.onload")===dojo._loaders[0]){dojo._loaders.splice(1,0,_265);}else{dojo._loaders.unshift(_265);}})();}if(!dojo._hasResource["dojo.cache"]){dojo._hasResource["dojo.cache"]=true;dojo.provide("dojo.cache");var cache={};dojo.cache=function(_266,url,_267){if(typeof _266=="string"){var _268=dojo.moduleUrl(_266,url);}else{_268=_266;_267=url;}var key=_268.toString();var val=_267;if(_267!=undefined&&!dojo.isString(_267)){val=("value" in _267?_267.value:undefined);}var _269=_267&&_267.sanitize?true:false;if(typeof val=="string"){val=cache[key]=_269?dojo.cache._sanitize(val):val;}else{if(val===null){delete cache[key];}else{if(!(key in cache)){val=dojo._getText(key);cache[key]=_269?dojo.cache._sanitize(val):val;}val=cache[key];}}return val;};dojo.cache._sanitize=function(val){if(val){val=val.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _26a=val.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_26a){val=_26a[1];}}else{val="";}return val;};}if(!dojo._hasResource["dijit._Templated"]){dojo._hasResource["dijit._Templated"]=true;dojo.provide("dijit._Templated");dojo.declare("dijit._Templated",null,{templateString:null,templatePath:null,widgetsInTemplate:false,_skipNodeCache:false,_earlyTemplatedStartup:false,constructor:function(){this._attachPoints=[];this._attachEvents=[];},_stringRepl:function(tmpl){var _26b=this.declaredClass,_26c=this;return dojo.string.substitute(tmpl,this,function(_26d,key){if(key.charAt(0)=="!"){_26d=dojo.getObject(key.substr(1),false,_26c);}if(typeof _26d=="undefined"){throw new Error(_26b+" template:"+key);}if(_26d==null){return "";}return key.charAt(0)=="!"?_26d:_26d.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){var _26e=dijit._Templated.getCachedTemplate(this.templatePath,this.templateString,this._skipNodeCache);var node;if(dojo.isString(_26e)){node=dojo._toDom(this._stringRepl(_26e));if(node.nodeType!=1){throw new Error("Invalid template: "+_26e);}}else{node=_26e.cloneNode(true);}this.domNode=node;this.inherited(arguments);this._attachTemplateNodes(node);if(this.widgetsInTemplate){var cw=(this._startupWidgets=dojo.parser.parse(node,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang},propsThis:this,scope:"dojo"}));this._supportingWidgets=dijit.findWidgets(node);this._attachTemplateNodes(cw,function(n,p){return n[p];});}this._fillContent(this.srcNodeRef);},_fillContent:function(_26f){var dest=this.containerNode;if(_26f&&dest){while(_26f.hasChildNodes()){dest.appendChild(_26f.firstChild);}}},_attachTemplateNodes:function(_270,_271){_271=_271||function(n,p){return n.getAttribute(p);};var _272=dojo.isArray(_270)?_270:(_270.all||_270.getElementsByTagName("*"));var x=dojo.isArray(_270)?0:-1;for(;x<_272.length;x++){var _273=(x==-1)?_270:_272[x];if(this.widgetsInTemplate&&(_271(_273,"dojoType")||_271(_273,"data-dojo-type"))){continue;}var _274=_271(_273,"dojoAttachPoint")||_271(_273,"data-dojo-attach-point");if(_274){var _275,_276=_274.split(/\s*,\s*/);while((_275=_276.shift())){if(dojo.isArray(this[_275])){this[_275].push(_273);}else{this[_275]=_273;}this._attachPoints.push(_275);}}var _277=_271(_273,"dojoAttachEvent")||_271(_273,"data-dojo-attach-event");if(_277){var _278,_279=_277.split(/\s*,\s*/);var trim=dojo.trim;while((_278=_279.shift())){if(_278){var _27a=null;if(_278.indexOf(":")!=-1){var _27b=_278.split(":");_278=trim(_27b[0]);_27a=trim(_27b[1]);}else{_278=trim(_278);}if(!_27a){_27a=_278;}this._attachEvents.push(this.connect(_273,_278,_27a));}}}var role=_271(_273,"waiRole");if(role){dijit.setWaiRole(_273,role);}var _27c=_271(_273,"waiState");if(_27c){dojo.forEach(_27c.split(/\s*,\s*/),function(_27d){if(_27d.indexOf("-")!=-1){var pair=_27d.split("-");dijit.setWaiState(_273,pair[0],pair[1]);}});}}},startup:function(){dojo.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this.inherited(arguments);},destroyRendering:function(){dojo.forEach(this._attachPoints,function(_27e){delete this[_27e];},this);this._attachPoints=[];dojo.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments);}});dijit._Templated._templateCache={};dijit._Templated.getCachedTemplate=function(_27f,_280,_281){var _282=dijit._Templated._templateCache;var key=_280||_27f;var _283=_282[key];if(_283){try{if(!_283.ownerDocument||_283.ownerDocument==dojo.doc){return _283;}}catch(e){}dojo.destroy(_283);}if(!_280){_280=dojo.cache(_27f,{sanitize:true});}_280=dojo.string.trim(_280);if(_281||_280.match(/\$\{([^\}]+)\}/g)){return (_282[key]=_280);}else{var node=dojo._toDom(_280);if(node.nodeType!=1){throw new Error("Invalid template: "+_280);}return (_282[key]=node);}};if(dojo.isIE){dojo.addOnWindowUnload(function(){var _284=dijit._Templated._templateCache;for(var key in _284){var _285=_284[key];if(typeof _285=="object"){dojo.destroy(_285);}delete _284[key];}});}dojo.extend(dijit._Widget,{dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:""});}if(!dojo._hasResource["dijit._CssStateMixin"]){dojo._hasResource["dijit._CssStateMixin"]=true;dojo.provide("dijit._CssStateMixin");dojo.declare("dijit._CssStateMixin",[],{cssStateNodes:{},hovering:false,active:false,_applyAttributes:function(){this.inherited(arguments);dojo.forEach(["onmouseenter","onmouseleave","onmousedown"],function(e){this.connect(this.domNode,e,"_cssMouseEvent");},this);dojo.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active"],function(attr){this.watch(attr,dojo.hitch(this,"_setStateClass"));},this);for(var ap in this.cssStateNodes){this._trackMouseState(this[ap],this.cssStateNodes[ap]);}this._setStateClass();},_cssMouseEvent:function(_286){if(!this.disabled){switch(_286.type){case "mouseenter":case "mouseover":this._set("hovering",true);this._set("active",this._mouseDown);break;case "mouseleave":case "mouseout":this._set("hovering",false);this._set("active",false);break;case "mousedown":this._set("active",true);this._mouseDown=true;var _287=this.connect(dojo.body(),"onmouseup",function(){this._mouseDown=false;this._set("active",false);this.disconnect(_287);});break;}}},_setStateClass:function(){var _288=this.baseClass.split(" ");function _289(_28a){_288=_288.concat(dojo.map(_288,function(c){return c+_28a;}),"dijit"+_28a);};if(!this.isLeftToRight()){_289("Rtl");}if(this.checked){_289("Checked");}if(this.state){_289(this.state);}if(this.selected){_289("Selected");}if(this.disabled){_289("Disabled");}else{if(this.readOnly){_289("ReadOnly");}else{if(this.active){_289("Active");}else{if(this.hovering){_289("Hover");}}}}if(this._focused){_289("Focused");}var tn=this.stateNode||this.domNode,_28b={};dojo.forEach(tn.className.split(" "),function(c){_28b[c]=true;});if("_stateClasses" in this){dojo.forEach(this._stateClasses,function(c){delete _28b[c];});}dojo.forEach(_288,function(c){_28b[c]=true;});var _28c=[];for(var c in _28b){_28c.push(c);}tn.className=_28c.join(" ");this._stateClasses=_288;},_trackMouseState:function(node,_28d){var _28e=false,_28f=false,_290=false;var self=this,cn=dojo.hitch(this,"connect",node);function _291(){var _292=("disabled" in self&&self.disabled)||("readonly" in self&&self.readonly);dojo.toggleClass(node,_28d+"Hover",_28e&&!_28f&&!_292);dojo.toggleClass(node,_28d+"Active",_28f&&!_292);dojo.toggleClass(node,_28d+"Focused",_290&&!_292);};cn("onmouseenter",function(){_28e=true;_291();});cn("onmouseleave",function(){_28e=false;_28f=false;_291();});cn("onmousedown",function(){_28f=true;_291();});cn("onmouseup",function(){_28f=false;_291();});cn("onfocus",function(){_290=true;_291();});cn("onblur",function(){_290=false;_291();});this.watch("disabled",_291);this.watch("readOnly",_291);}});}if(!dojo._hasResource["dijit.form._FormWidget"]){dojo._hasResource["dijit.form._FormWidget"]=true;dojo.provide("dijit.form._FormWidget");dojo.declare("dijit.form._FormWidget",[dijit._Widget,dijit._Templated,dijit._CssStateMixin],{name:"",alt:"",value:"",type:"text",tabIndex:"0",disabled:false,intermediateChanges:false,scrollOnFocus:true,attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{value:"focusNode",id:"focusNode",tabIndex:"focusNode",alt:"focusNode",title:"focusNode"}),postMixInProperties:function(){this.nameAttrSetting=this.name?("name=\""+this.name.replace(/'/g,"&quot;")+"\""):"";this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onmousedown","_onMouseDown");},_setDisabledAttr:function(_293){this._set("disabled",_293);dojo.attr(this.focusNode,"disabled",_293);if(this.valueNode){dojo.attr(this.valueNode,"disabled",_293);}dijit.setWaiState(this.focusNode,"disabled",_293);if(_293){this._set("hovering",false);this._set("active",false);var _294="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:"focusNode";dojo.forEach(dojo.isArray(_294)?_294:[_294],function(_295){var node=this[_295];if(dojo.isWebKit||dijit.hasDefaultTabStop(node)){node.setAttribute("tabIndex","-1");}else{node.removeAttribute("tabIndex");}},this);}else{if(this.tabIndex!=""){this.focusNode.setAttribute("tabIndex",this.tabIndex);}}},setDisabled:function(_296){dojo.deprecated("setDisabled("+_296+") is deprecated. Use set('disabled',"+_296+") instead.","","2.0");this.set("disabled",_296);},_onFocus:function(e){if(this.scrollOnFocus){dojo.window.scrollIntoView(this.domNode);}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&this.focusNode&&(dojo.style(this.domNode,"display")!="none");},focus:function(){if(!this.disabled){dijit.focus(this.focusNode);}},compare:function(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return (isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(_297){},_onChangeActive:false,_handleOnChange:function(_298,_299){if(this._lastValueReported==undefined&&(_299===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_298;}this._pendingOnChange=this._pendingOnChange||(typeof _298!=typeof this._lastValueReported)||(this.compare(_298,this._lastValueReported)!=0);if((this.intermediateChanges||_299||_299===undefined)&&this._pendingOnChange){this._lastValueReported=_298;this._pendingOnChange=false;if(this._onChangeActive){if(this._onChangeHandle){clearTimeout(this._onChangeHandle);}this._onChangeHandle=setTimeout(dojo.hitch(this,function(){this._onChangeHandle=null;this.onChange(_298);}),0);}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){clearTimeout(this._onChangeHandle);this.onChange(this._lastValueReported);}this.inherited(arguments);},setValue:function(_29a){dojo.deprecated("dijit.form._FormWidget:setValue("+_29a+") is deprecated.  Use set('value',"+_29a+") instead.","","2.0");this.set("value",_29a);},getValue:function(){dojo.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},_onMouseDown:function(e){if(!e.ctrlKey&&dojo.mouseButtons.isLeft(e)&&this.isFocusable()){var _29b=this.connect(dojo.body(),"onmouseup",function(){if(this.isFocusable()){this.focus();}this.disconnect(_29b);});}}});dojo.declare("dijit.form._FormValueWidget",dijit.form._FormWidget,{readOnly:false,attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{value:"",readOnly:"focusNode"}),_setReadOnlyAttr:function(_29c){dojo.attr(this.focusNode,"readOnly",_29c);dijit.setWaiState(this.focusNode,"readonly",_29c);this._set("readOnly",_29c);},postCreate:function(){this.inherited(arguments);if(dojo.isIE<9||(dojo.isIE&&dojo.isQuirks)){this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);}if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.value;}},_setValueAttr:function(_29d,_29e){this._handleOnChange(_29d,_29e);},_handleOnChange:function(_29f,_2a0){this._set("value",_29f);this.inherited(arguments);},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},_onKeyDown:function(e){if(e.keyCode==dojo.keys.ESCAPE&&!(e.ctrlKey||e.altKey||e.metaKey)){var te;if(dojo.isIE){e.preventDefault();te=document.createEventObject();te.keyCode=dojo.keys.ESCAPE;te.shiftKey=e.shiftKey;e.srcElement.fireEvent("onkeypress",te);}}},_layoutHackIE7:function(){if(dojo.isIE==7){var _2a1=this.domNode;var _2a2=_2a1.parentNode;var _2a3=_2a1.firstChild||_2a1;var _2a4=_2a3.style.filter;var _2a5=this;while(_2a2&&_2a2.clientHeight==0){(function ping(){var _2a6=_2a5.connect(_2a2,"onscroll",function(e){_2a5.disconnect(_2a6);_2a3.style.filter=(new Date()).getMilliseconds();setTimeout(function(){_2a3.style.filter=_2a4;},0);});})();_2a2=_2a2.parentNode;}}}});}if(!dojo._hasResource["dijit.form.TextBox"]){dojo._hasResource["dijit.form.TextBox"]=true;dojo.provide("dijit.form.TextBox");dojo.declare("dijit.form.TextBox",dijit.form._FormValueWidget,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",selectOnClick:false,placeHolder:"",templateString:dojo.cache("dijit.form","templates/TextBox.html","<div class=\"dijit dijitReset dijitInline dijitLeft\" id=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" dojoAttachPoint='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n"),_singleNodeTemplate:"<input class=\"dijit dijitReset dijitLeft dijitInputField\" dojoAttachPoint=\"textbox,focusNode\" autocomplete=\"off\" type=\"${type}\" ${!nameAttrSetting} />",_buttonInputDisabled:dojo.isIE?"disabled":"",baseClass:"dijitTextBox",attributeMap:dojo.delegate(dijit.form._FormValueWidget.prototype.attributeMap,{maxLength:"focusNode"}),postMixInProperties:function(){var type=this.type.toLowerCase();if(this.templateString&&this.templateString.toLowerCase()=="input"||((type=="hidden"||type=="file")&&this.templateString==dijit.form.TextBox.prototype.templateString)){this.templateString=this._singleNodeTemplate;}this.inherited(arguments);},_setPlaceHolderAttr:function(v){this._set("placeHolder",v);if(!this._phspan){this._attachPoints.push("_phspan");this._phspan=dojo.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after");}this._phspan.innerHTML="";this._phspan.appendChild(document.createTextNode(v));this._updatePlaceHolder();},_updatePlaceHolder:function(){if(this._phspan){this._phspan.style.display=(this.placeHolder&&!this._focused&&!this.textbox.value)?"":"none";}},_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints);},_setValueAttr:function(_2a7,_2a8,_2a9){var _2aa;if(_2a7!==undefined){_2aa=this.filter(_2a7);if(typeof _2a9!="string"){if(_2aa!==null&&((typeof _2aa!="number")||!isNaN(_2aa))){_2a9=this.filter(this.format(_2aa,this.constraints));}else{_2a9="";}}}if(_2a9!=null&&_2a9!=undefined&&((typeof _2a9)!="number"||!isNaN(_2a9))&&this.textbox.value!=_2a9){this.textbox.value=_2a9;this._set("displayedValue",this.get("displayedValue"));}this._updatePlaceHolder();this.inherited(arguments,[_2aa,_2a8]);},displayedValue:"",getDisplayedValue:function(){dojo.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use set('displayedValue') instead.","","2.0");return this.get("displayedValue");},_getDisplayedValueAttr:function(){return this.filter(this.textbox.value);},setDisplayedValue:function(_2ab){dojo.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",_2ab);},_setDisplayedValueAttr:function(_2ac){if(_2ac===null||_2ac===undefined){_2ac="";}else{if(typeof _2ac!="string"){_2ac=String(_2ac);}}this.textbox.value=_2ac;this._setValueAttr(this.get("value"),undefined);this._set("displayedValue",this.get("displayedValue"));},format:function(_2ad,_2ae){return ((_2ad==null||_2ad==undefined)?"":(_2ad.toString?_2ad.toString():_2ad));},parse:function(_2af,_2b0){return _2af;},_refreshState:function(){},_onInput:function(e){if(e&&e.type&&/key/i.test(e.type)&&e.keyCode){switch(e.keyCode){case dojo.keys.SHIFT:case dojo.keys.ALT:case dojo.keys.CTRL:case dojo.keys.TAB:return;}}if(this.intermediateChanges){var _2b1=this;setTimeout(function(){_2b1._handleOnChange(_2b1.get("value"),false);},0);}this._refreshState();this._set("displayedValue",this.get("displayedValue"));},postCreate:function(){if(dojo.isIE){setTimeout(dojo.hitch(this,function(){var s=dojo.getComputedStyle(this.domNode);if(s){var ff=s.fontFamily;if(ff){var _2b2=this.domNode.getElementsByTagName("INPUT");if(_2b2){for(var i=0;i<_2b2.length;i++){_2b2[i].style.fontFamily=ff;}}}}}),0);}this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);if(dojo.isMoz||dojo.isOpera){this.connect(this.textbox,"oninput","_onInput");}else{this.connect(this.textbox,"onkeydown","_onInput");this.connect(this.textbox,"onkeyup","_onInput");this.connect(this.textbox,"onpaste","_onInput");this.connect(this.textbox,"oncut","_onInput");}},_blankValue:"",filter:function(val){if(val===null){return this._blankValue;}if(typeof val!="string"){return val;}if(this.trim){val=dojo.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(word){return word.substring(0,1).toUpperCase()+word.substring(1);});}return val;},_setBlurValue:function(){this._setValueAttr(this.get("value"),true);},_onBlur:function(e){if(this.disabled){return;}this._setBlurValue();this.inherited(arguments);if(this._selectOnClickHandle){this.disconnect(this._selectOnClickHandle);}if(this.selectOnClick&&dojo.isMoz){this.textbox.selectionStart=this.textbox.selectionEnd=undefined;}this._updatePlaceHolder();},_onFocus:function(by){if(this.disabled||this.readOnly){return;}if(this.selectOnClick&&by=="mouse"){this._selectOnClickHandle=this.connect(this.domNode,"onmouseup",function(){this.disconnect(this._selectOnClickHandle);var _2b3;if(dojo.isIE){var _2b4=dojo.doc.selection.createRange();var _2b5=_2b4.parentElement();_2b3=_2b5==this.textbox&&_2b4.text.length==0;}else{_2b3=this.textbox.selectionStart==this.textbox.selectionEnd;}if(_2b3){dijit.selectInputText(this.textbox);}});}this._updatePlaceHolder();this.inherited(arguments);this._refreshState();},reset:function(){this.textbox.value="";this.inherited(arguments);}});dijit.selectInputText=function(_2b6,_2b7,stop){var _2b8=dojo.global;var _2b9=dojo.doc;_2b6=dojo.byId(_2b6);if(isNaN(_2b7)){_2b7=0;}if(isNaN(stop)){stop=_2b6.value?_2b6.value.length:0;}dijit.focus(_2b6);if(_2b9["selection"]&&dojo.body()["createTextRange"]){if(_2b6.createTextRange){var r=_2b6.createTextRange();r.collapse(true);r.moveStart("character",-99999);r.moveStart("character",_2b7);r.moveEnd("character",stop-_2b7);r.select();}}else{if(_2b8["getSelection"]){if(_2b6.setSelectionRange){_2b6.setSelectionRange(_2b7,stop);}}}};}if(!dojo._hasResource["dijit.Tooltip"]){dojo._hasResource["dijit.Tooltip"]=true;dojo.provide("dijit.Tooltip");dojo.declare("dijit._MasterTooltip",[dijit._Widget,dijit._Templated],{duration:dijit.defaultDuration,templateString:dojo.cache("dijit","templates/Tooltip.html","<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\"\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" dojoAttachPoint=\"containerNode\" role='alert'></div\n\t><div class=\"dijitTooltipConnector\" dojoAttachPoint=\"connectorNode\"></div\n></div>\n"),postCreate:function(){dojo.body().appendChild(this.domNode);this.bgIframe=new dijit.BackgroundIframe(this.domNode);this.fadeIn=dojo.fadeIn({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onShow")});this.fadeOut=dojo.fadeOut({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onHide")});},show:function(_2ba,_2bb,_2bc,rtl){if(this.aroundNode&&this.aroundNode===_2bb){return;}this.domNode.width="auto";if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_2ba;var pos=dijit.placeOnScreenAroundElement(this.domNode,_2bb,dijit.getPopupAroundAlignment((_2bc&&_2bc.length)?_2bc:dijit.Tooltip.defaultPosition,!rtl),dojo.hitch(this,"orient"));dojo.style(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_2bb;},orient:function(node,_2bd,_2be,_2bf,_2c0){this.connectorNode.style.top="";var _2c1=_2bf.w-this.connectorNode.offsetWidth;node.className="dijitTooltip "+{"BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_2bd+"-"+_2be];this.domNode.style.width="auto";var size=dojo.contentBox(this.domNode);var _2c2=Math.min((Math.max(_2c1,1)),size.w);var _2c3=_2c2<size.w;this.domNode.style.width=_2c2+"px";if(_2c3){this.containerNode.style.overflow="auto";var _2c4=this.containerNode.scrollWidth;this.containerNode.style.overflow="visible";if(_2c4>_2c2){_2c4=_2c4+dojo.style(this.domNode,"paddingLeft")+dojo.style(this.domNode,"paddingRight");this.domNode.style.width=_2c4+"px";}}if(_2be.charAt(0)=="B"&&_2bd.charAt(0)=="B"){var mb=dojo.marginBox(node);var _2c5=this.connectorNode.offsetHeight;if(mb.h>_2bf.h){var _2c6=_2bf.h-(_2c0.h/2)-(_2c5/2);this.connectorNode.style.top=_2c6+"px";this.connectorNode.style.bottom="";}else{this.connectorNode.style.bottom=Math.min(Math.max(_2c0.h/2-_2c5/2,0),mb.h-_2c5)+"px";this.connectorNode.style.top="";}}else{this.connectorNode.style.top="";this.connectorNode.style.bottom="";}return Math.max(0,size.w-_2c1);},_onShow:function(){if(dojo.isIE){this.domNode.style.filter="";}},hide:function(_2c7){if(this._onDeck&&this._onDeck[1]==_2c7){this._onDeck=null;}else{if(this.aroundNode===_2c7){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}}});dijit.showTooltip=function(_2c8,_2c9,_2ca,rtl){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.show(_2c8,_2c9,_2ca,rtl);};dijit.hideTooltip=function(_2cb){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.hide(_2cb);};dojo.declare("dijit.Tooltip",dijit._Widget,{label:"",showDelay:400,connectId:[],position:[],_setConnectIdAttr:function(_2cc){dojo.forEach(this._connections||[],function(_2cd){dojo.forEach(_2cd,dojo.hitch(this,"disconnect"));},this);var ary=dojo.isArrayLike(_2cc)?_2cc:(_2cc?[_2cc]:[]);this._connections=dojo.map(ary,function(id){var node=dojo.byId(id);return node?[this.connect(node,"onmouseenter","_onTargetMouseEnter"),this.connect(node,"onmouseleave","_onTargetMouseLeave"),this.connect(node,"onfocus","_onTargetFocus"),this.connect(node,"onblur","_onTargetBlur")]:[];},this);this._set("connectId",_2cc);this._connectIds=ary;},addTarget:function(node){var id=node.id||node;if(dojo.indexOf(this._connectIds,id)==-1){this.set("connectId",this._connectIds.concat(id));}},removeTarget:function(node){var id=node.id||node,idx=dojo.indexOf(this._connectIds,id);if(idx>=0){this._connectIds.splice(idx,1);this.set("connectId",this._connectIds);}},buildRendering:function(){this.inherited(arguments);dojo.addClass(this.domNode,"dijitTooltipData");},startup:function(){this.inherited(arguments);var ids=this.connectId;dojo.forEach(dojo.isArrayLike(ids)?ids:[ids],this.addTarget,this);},_onTargetMouseEnter:function(e){this._onHover(e);},_onTargetMouseLeave:function(e){this._onUnHover(e);},_onTargetFocus:function(e){this._focus=true;this._onHover(e);},_onTargetBlur:function(e){this._focus=false;this._onUnHover(e);},_onHover:function(e){if(!this._showTimer){var _2ce=e.target;this._showTimer=setTimeout(dojo.hitch(this,function(){this.open(_2ce);}),this.showDelay);}},_onUnHover:function(e){if(this._focus){return;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}this.close();},open:function(_2cf){if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}dijit.showTooltip(this.label||this.domNode.innerHTML,_2cf,this.position,!this.isLeftToRight());this._connectNode=_2cf;this.onShow(_2cf,this.position);},close:function(){if(this._connectNode){dijit.hideTooltip(this._connectNode);delete this._connectNode;this.onHide();}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}},onShow:function(_2d0,_2d1){},onHide:function(){},uninitialize:function(){this.close();this.inherited(arguments);}});dijit.Tooltip.defaultPosition=["after","before"];}if(!dojo._hasResource["dijit.form.ValidationTextBox"]){dojo._hasResource["dijit.form.ValidationTextBox"]=true;dojo.provide("dijit.form.ValidationTextBox");dojo.declare("dijit.form.ValidationTextBox",dijit.form.TextBox,{templateString:dojo.cache("dijit.form","templates/ValidationTextBox.html","<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" dojoAttachPoint='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n"),baseClass:"dijitTextBox dijitValidationTextBox",required:false,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},regExp:".*",regExpGen:function(_2d2){return this.regExp;},state:"",tooltipPosition:[],_setValueAttr:function(){this.inherited(arguments);this.validate(this._focused);},validator:function(_2d3,_2d4){return (new RegExp("^(?:"+this.regExpGen(_2d4)+")"+(this.required?"":"?")+"$")).test(_2d3)&&(!this.required||!this._isEmpty(_2d3))&&(this._isEmpty(_2d3)||this.parse(_2d3,_2d4)!==undefined);},_isValidSubset:function(){return this.textbox.value.search(this._partialre)==0;},isValid:function(_2d5){return this.validator(this.textbox.value,this.constraints);},_isEmpty:function(_2d6){return (this.trim?/^\s*$/:/^$/).test(_2d6);},getErrorMessage:function(_2d7){return (this.required&&this._isEmpty(this.textbox.value))?this.missingMessage:this.invalidMessage;},getPromptMessage:function(_2d8){return this.promptMessage;},_maskValidSubsetError:true,validate:function(_2d9){var _2da="";var _2db=this.disabled||this.isValid(_2d9);if(_2db){this._maskValidSubsetError=true;}var _2dc=this._isEmpty(this.textbox.value);var _2dd=!_2db&&_2d9&&this._isValidSubset();this._set("state",_2db?"":(((((!this._hasBeenBlurred||_2d9)&&_2dc)||_2dd)&&this._maskValidSubsetError)?"Incomplete":"Error"));dijit.setWaiState(this.focusNode,"invalid",_2db?"false":"true");if(this.state=="Error"){this._maskValidSubsetError=_2d9&&_2dd;_2da=this.getErrorMessage(_2d9);}else{if(this.state=="Incomplete"){_2da=this.getPromptMessage(_2d9);this._maskValidSubsetError=!this._hasBeenBlurred||_2d9;}else{if(_2dc){_2da=this.getPromptMessage(_2d9);}}}this.set("message",_2da);return _2db;},displayMessage:function(_2de){dijit.hideTooltip(this.domNode);if(_2de&&this._focused){dijit.showTooltip(_2de,this.domNode,this.tooltipPosition,!this.isLeftToRight());}},_refreshState:function(){this.validate(this._focused);this.inherited(arguments);},constructor:function(){this.constraints={};},_setConstraintsAttr:function(_2df){if(!_2df.locale&&this.lang){_2df.locale=this.lang;}this._set("constraints",_2df);this._computePartialRE();},_computePartialRE:function(){var p=this.regExpGen(this.constraints);this.regExp=p;var _2e0="";if(p!=".*"){this.regExp.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){switch(re.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":_2e0+=re;break;case ")":_2e0+="|$)";break;default:_2e0+="(?:"+re+"|$)";break;}});}try{"".search(_2e0);}catch(e){_2e0=this.regExp;console.warn("RegExp error in "+this.declaredClass+": "+this.regExp);}this._partialre="^(?:"+_2e0+")$";},postMixInProperties:function(){this.inherited(arguments);this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);if(this.invalidMessage=="$_unset_$"){this.invalidMessage=this.messages.invalidMessage;}if(!this.invalidMessage){this.invalidMessage=this.promptMessage;}if(this.missingMessage=="$_unset_$"){this.missingMessage=this.messages.missingMessage;}if(!this.missingMessage){this.missingMessage=this.invalidMessage;}this._setConstraintsAttr(this.constraints);},_setDisabledAttr:function(_2e1){this.inherited(arguments);this._refreshState();},_setRequiredAttr:function(_2e2){this._set("required",_2e2);dijit.setWaiState(this.focusNode,"required",_2e2);this._refreshState();},_setMessageAttr:function(_2e3){this._set("message",_2e3);this.displayMessage(_2e3);},reset:function(){this._maskValidSubsetError=true;this.inherited(arguments);},_onBlur:function(){this.displayMessage("");this.inherited(arguments);}});dojo.declare("dijit.form.MappedTextBox",dijit.form.ValidationTextBox,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting="";},serialize:function(val,_2e4){return val.toString?val.toString():"";},toString:function(){var val=this.filter(this.get("value"));return val!=null?(typeof val=="string"?val:this.serialize(val,this.constraints)):"";},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.valueNode=dojo.place("<input type='hidden'"+(this.name?" name='"+this.name.replace(/'/g,"&quot;")+"'":"")+"/>",this.textbox,"after");},reset:function(){this.valueNode.value="";this.inherited(arguments);}});dojo.declare("dijit.form.RangeBoundTextBox",dijit.form.MappedTextBox,{rangeMessage:"",rangeCheck:function(_2e5,_2e6){return ("min" in _2e6?(this.compare(_2e5,_2e6.min)>=0):true)&&("max" in _2e6?(this.compare(_2e5,_2e6.max)<=0):true);},isInRange:function(_2e7){return this.rangeCheck(this.get("value"),this.constraints);},_isDefinitelyOutOfRange:function(){var val=this.get("value");var _2e8=false;var _2e9=false;if("min" in this.constraints){var min=this.constraints.min;min=this.compare(val,((typeof min=="number")&&min>=0&&val!=0)?0:min);_2e8=(typeof min=="number")&&min<0;}if("max" in this.constraints){var max=this.constraints.max;max=this.compare(val,((typeof max!="number")||max>0)?max:0);_2e9=(typeof max=="number")&&max>0;}return _2e8||_2e9;},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange();},isValid:function(_2ea){return this.inherited(arguments)&&((this._isEmpty(this.textbox.value)&&!this.required)||this.isInRange(_2ea));},getErrorMessage:function(_2eb){var v=this.get("value");if(v!==null&&v!==""&&v!==undefined&&(typeof v!="number"||!isNaN(v))&&!this.isInRange(_2eb)){return this.rangeMessage;}return this.inherited(arguments);},postMixInProperties:function(){this.inherited(arguments);if(!this.rangeMessage){this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);this.rangeMessage=this.messages.rangeMessage;}},_setConstraintsAttr:function(_2ec){this.inherited(arguments);if(this.focusNode){if(this.constraints.min!==undefined){dijit.setWaiState(this.focusNode,"valuemin",this.constraints.min);}else{dijit.removeWaiState(this.focusNode,"valuemin");}if(this.constraints.max!==undefined){dijit.setWaiState(this.focusNode,"valuemax",this.constraints.max);}else{dijit.removeWaiState(this.focusNode,"valuemax");}}},_setValueAttr:function(_2ed,_2ee){dijit.setWaiState(this.focusNode,"valuenow",_2ed);this.inherited(arguments);}});}if(!dojo._hasResource["dijit.form._Spinner"]){dojo._hasResource["dijit.form._Spinner"]=true;dojo.provide("dijit.form._Spinner");dojo.declare("dijit.form._Spinner",dijit.form.RangeBoundTextBox,{defaultTimeout:500,minimumTimeout:10,timeoutChangeRate:0.9,smallDelta:1,largeDelta:10,templateString:dojo.cache("dijit.form","templates/Spinner.html","<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitButtonNode dijitSpinnerButtonContainer\"\n\t\t><input class=\"dijitReset dijitInputField dijitSpinnerButtonInner\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t/><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton\"\n\t\t\tdojoAttachPoint=\"upArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9650;\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t\t><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton\"\n\t\t\tdojoAttachPoint=\"downArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9660;\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935;\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' dojoAttachPoint=\"textbox,focusNode\" type=\"${type}\" dojoAttachEvent=\"onkeypress:_onKeyPress\"\n\t\t\trole=\"spinbutton\" autocomplete=\"off\" ${!nameAttrSetting}\n\t/></div\n></div>\n"),baseClass:"dijitTextBox dijitSpinner",cssStateNodes:{"upArrowNode":"dijitUpArrowButton","downArrowNode":"dijitDownArrowButton"},adjust:function(val,_2ef){return val;},_arrowPressed:function(_2f0,_2f1,_2f2){if(this.disabled||this.readOnly){return;}this._setValueAttr(this.adjust(this.get("value"),_2f1*_2f2),false);dijit.selectInputText(this.textbox,this.textbox.value.length);},_arrowReleased:function(node){this._wheelTimer=null;if(this.disabled||this.readOnly){return;}},_typematicCallback:function(_2f3,node,evt){var inc=this.smallDelta;if(node==this.textbox){var k=dojo.keys;var key=evt.charOrCode;inc=(key==k.PAGE_UP||key==k.PAGE_DOWN)?this.largeDelta:this.smallDelta;node=(key==k.UP_ARROW||key==k.PAGE_UP)?this.upArrowNode:this.downArrowNode;}if(_2f3==-1){this._arrowReleased(node);}else{this._arrowPressed(node,(node==this.upArrowNode)?1:-1,inc);}},_wheelTimer:null,_mouseWheeled:function(evt){dojo.stopEvent(evt);var _2f4=evt.detail?(evt.detail*-1):(evt.wheelDelta/120);if(_2f4!==0){var node=this[(_2f4>0?"upArrowNode":"downArrowNode")];this._arrowPressed(node,_2f4,this.smallDelta);if(!this._wheelTimer){clearTimeout(this._wheelTimer);}this._wheelTimer=setTimeout(dojo.hitch(this,"_arrowReleased",node),50);}},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,!dojo.isMozilla?"onmousewheel":"DOMMouseScroll","_mouseWheeled");this._connects.push(dijit.typematic.addListener(this.upArrowNode,this.textbox,{charOrCode:dojo.keys.UP_ARROW,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));this._connects.push(dijit.typematic.addListener(this.downArrowNode,this.textbox,{charOrCode:dojo.keys.DOWN_ARROW,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));this._connects.push(dijit.typematic.addListener(this.upArrowNode,this.textbox,{charOrCode:dojo.keys.PAGE_UP,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));this._connects.push(dijit.typematic.addListener(this.downArrowNode,this.textbox,{charOrCode:dojo.keys.PAGE_DOWN,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));}});}if(!dojo._hasResource["dojo.regexp"]){dojo._hasResource["dojo.regexp"]=true;dojo.provide("dojo.regexp");dojo.getObject("regexp",true,dojo);dojo.regexp.escapeString=function(str,_2f5){return str.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(ch){if(_2f5&&_2f5.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};dojo.regexp.buildGroupRE=function(arr,re,_2f6){if(!(arr instanceof Array)){return re(arr);}var b=[];for(var i=0;i<arr.length;i++){b.push(re(arr[i]));}return dojo.regexp.group(b.join("|"),_2f6);};dojo.regexp.group=function(_2f7,_2f8){return "("+(_2f8?"?:":"")+_2f7+")";};}if(!dojo._hasResource["dojo.number"]){dojo._hasResource["dojo.number"]=true;dojo.provide("dojo.number");dojo.getObject("number",true,dojo);dojo.number.format=function(_2f9,_2fa){_2fa=dojo.mixin({},_2fa||{});var _2fb=dojo.i18n.normalizeLocale(_2fa.locale),_2fc=dojo.i18n.getLocalization("dojo.cldr","number",_2fb);_2fa.customs=_2fc;var _2fd=_2fa.pattern||_2fc[(_2fa.type||"decimal")+"Format"];if(isNaN(_2f9)||Math.abs(_2f9)==Infinity){return null;}return dojo.number._applyPattern(_2f9,_2fd,_2fa);};dojo.number._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;dojo.number._applyPattern=function(_2fe,_2ff,_300){_300=_300||{};var _301=_300.customs.group,_302=_300.customs.decimal,_303=_2ff.split(";"),_304=_303[0];_2ff=_303[(_2fe<0)?1:0]||("-"+_304);if(_2ff.indexOf("%")!=-1){_2fe*=100;}else{if(_2ff.indexOf("")!=-1){_2fe*=1000;}else{if(_2ff.indexOf("")!=-1){_301=_300.customs.currencyGroup||_301;_302=_300.customs.currencyDecimal||_302;_2ff=_2ff.replace(/\u00a4{1,3}/,function(_305){var prop=["symbol","currency","displayName"][_305.length-1];return _300[prop]||_300.currency||"";});}else{if(_2ff.indexOf("E")!=-1){throw new Error("exponential notation not supported");}}}}var _306=dojo.number._numberPatternRE;var _307=_304.match(_306);if(!_307){throw new Error("unable to find a number expression in pattern: "+_2ff);}if(_300.fractional===false){_300.places=0;}return _2ff.replace(_306,dojo.number._formatAbsolute(_2fe,_307[0],{decimal:_302,group:_301,places:_300.places,round:_300.round}));};dojo.number.round=function(_308,_309,_30a){var _30b=10/(_30a||10);return (_30b*+_308).toFixed(_309)/_30b;};if((0.9).toFixed()==0){(function(){var _30c=dojo.number.round;dojo.number.round=function(v,p,m){var d=Math.pow(10,-p||0),a=Math.abs(v);if(!v||a>=d||a*Math.pow(10,p+1)<5){d=0;}return _30c(v,p,m)+(v>0?d:-d);};})();}dojo.number._formatAbsolute=function(_30d,_30e,_30f){_30f=_30f||{};if(_30f.places===true){_30f.places=0;}if(_30f.places===Infinity){_30f.places=6;}var _310=_30e.split("."),_311=typeof _30f.places=="string"&&_30f.places.indexOf(","),_312=_30f.places;if(_311){_312=_30f.places.substring(_311+1);}else{if(!(_312>=0)){_312=(_310[1]||[]).length;}}if(!(_30f.round<0)){_30d=dojo.number.round(_30d,_312,_30f.round);}var _313=String(Math.abs(_30d)).split("."),_314=_313[1]||"";if(_310[1]||_30f.places){if(_311){_30f.places=_30f.places.substring(0,_311);}var pad=_30f.places!==undefined?_30f.places:(_310[1]&&_310[1].lastIndexOf("0")+1);if(pad>_314.length){_313[1]=dojo.string.pad(_314,pad,"0",true);}if(_312<_314.length){_313[1]=_314.substr(0,_312);}}else{if(_313[1]){_313.pop();}}var _315=_310[0].replace(",","");pad=_315.indexOf("0");if(pad!=-1){pad=_315.length-pad;if(pad>_313[0].length){_313[0]=dojo.string.pad(_313[0],pad);}if(_315.indexOf("#")==-1){_313[0]=_313[0].substr(_313[0].length-pad);}}var _316=_310[0].lastIndexOf(","),_317,_318;if(_316!=-1){_317=_310[0].length-_316-1;var _319=_310[0].substr(0,_316);_316=_319.lastIndexOf(",");if(_316!=-1){_318=_319.length-_316-1;}}var _31a=[];for(var _31b=_313[0];_31b;){var off=_31b.length-_317;_31a.push((off>0)?_31b.substr(off):_31b);_31b=(off>0)?_31b.slice(0,off):"";if(_318){_317=_318;delete _318;}}_313[0]=_31a.reverse().join(_30f.group||",");return _313.join(_30f.decimal||".");};dojo.number.regexp=function(_31c){return dojo.number._parseInfo(_31c).regexp;};dojo.number._parseInfo=function(_31d){_31d=_31d||{};var _31e=dojo.i18n.normalizeLocale(_31d.locale),_31f=dojo.i18n.getLocalization("dojo.cldr","number",_31e),_320=_31d.pattern||_31f[(_31d.type||"decimal")+"Format"],_321=_31f.group,_322=_31f.decimal,_323=1;if(_320.indexOf("%")!=-1){_323/=100;}else{if(_320.indexOf("")!=-1){_323/=1000;}else{var _324=_320.indexOf("")!=-1;if(_324){_321=_31f.currencyGroup||_321;_322=_31f.currencyDecimal||_322;}}}var _325=_320.split(";");if(_325.length==1){_325.push("-"+_325[0]);}var re=dojo.regexp.buildGroupRE(_325,function(_326){_326="(?:"+dojo.regexp.escapeString(_326,".")+")";return _326.replace(dojo.number._numberPatternRE,function(_327){var _328={signed:false,separator:_31d.strict?_321:[_321,""],fractional:_31d.fractional,decimal:_322,exponent:false},_329=_327.split("."),_32a=_31d.places;if(_329.length==1&&_323!=1){_329[1]="###";}if(_329.length==1||_32a===0){_328.fractional=false;}else{if(_32a===undefined){_32a=_31d.pattern?_329[1].lastIndexOf("0")+1:Infinity;}if(_32a&&_31d.fractional==undefined){_328.fractional=true;}if(!_31d.places&&(_32a<_329[1].length)){_32a+=","+_329[1].length;}_328.places=_32a;}var _32b=_329[0].split(",");if(_32b.length>1){_328.groupSize=_32b.pop().length;if(_32b.length>1){_328.groupSize2=_32b.pop().length;}}return "("+dojo.number._realNumberRegexp(_328)+")";});},true);if(_324){re=re.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(_32c,_32d,_32e,_32f){var prop=["symbol","currency","displayName"][_32e.length-1],_330=dojo.regexp.escapeString(_31d[prop]||_31d.currency||"");_32d=_32d?"[\\s\\xa0]":"";_32f=_32f?"[\\s\\xa0]":"";if(!_31d.strict){if(_32d){_32d+="*";}if(_32f){_32f+="*";}return "(?:"+_32d+_330+_32f+")?";}return _32d+_330+_32f;});}return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:_321,decimal:_322,factor:_323};};dojo.number.parse=function(_331,_332){var info=dojo.number._parseInfo(_332),_333=(new RegExp("^"+info.regexp+"$")).exec(_331);if(!_333){return NaN;}var _334=_333[1];if(!_333[1]){if(!_333[2]){return NaN;}_334=_333[2];info.factor*=-1;}_334=_334.replace(new RegExp("["+info.group+"\\s\\xa0"+"]","g"),"").replace(info.decimal,".");return _334*info.factor;};dojo.number._realNumberRegexp=function(_335){_335=_335||{};if(!("places" in _335)){_335.places=Infinity;}if(typeof _335.decimal!="string"){_335.decimal=".";}if(!("fractional" in _335)||/^0/.test(_335.places)){_335.fractional=[true,false];}if(!("exponent" in _335)){_335.exponent=[true,false];}if(!("eSigned" in _335)){_335.eSigned=[true,false];}var _336=dojo.number._integerRegexp(_335),_337=dojo.regexp.buildGroupRE(_335.fractional,function(q){var re="";if(q&&(_335.places!==0)){re="\\"+_335.decimal;if(_335.places==Infinity){re="(?:"+re+"\\d+)?";}else{re+="\\d{"+_335.places+"}";}}return re;},true);var _338=dojo.regexp.buildGroupRE(_335.exponent,function(q){if(q){return "([eE]"+dojo.number._integerRegexp({signed:_335.eSigned})+")";}return "";});var _339=_336+_337;if(_337){_339="(?:(?:"+_339+")|(?:"+_337+"))";}return _339+_338;};dojo.number._integerRegexp=function(_33a){_33a=_33a||{};if(!("signed" in _33a)){_33a.signed=[true,false];}if(!("separator" in _33a)){_33a.separator="";}else{if(!("groupSize" in _33a)){_33a.groupSize=3;}}var _33b=dojo.regexp.buildGroupRE(_33a.signed,function(q){return q?"[-+]":"";},true);var _33c=dojo.regexp.buildGroupRE(_33a.separator,function(sep){if(!sep){return "(?:\\d+)";}sep=dojo.regexp.escapeString(sep);if(sep==" "){sep="\\s";}else{if(sep==""){sep="\\s\\xa0";}}var grp=_33a.groupSize,grp2=_33a.groupSize2;if(grp2){var _33d="(?:0|[1-9]\\d{0,"+(grp2-1)+"}(?:["+sep+"]\\d{"+grp2+"})*["+sep+"]\\d{"+grp+"})";return ((grp-grp2)>0)?"(?:"+_33d+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_33d;}return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";},true);return _33b+_33c;};}if(!dojo._hasResource["dijit.form.NumberTextBox"]){dojo._hasResource["dijit.form.NumberTextBox"]=true;dojo.provide("dijit.form.NumberTextBox");dojo.declare("dijit.form.NumberTextBoxMixin",null,{regExpGen:dojo.number.regexp,value:NaN,editOptions:{pattern:"#.######"},_formatter:dojo.number.format,_setConstraintsAttr:function(_33e){var _33f=typeof _33e.places=="number"?_33e.places:0;if(_33f){_33f++;}if(typeof _33e.max!="number"){_33e.max=9*Math.pow(10,15-_33f);}if(typeof _33e.min!="number"){_33e.min=-9*Math.pow(10,15-_33f);}this.inherited(arguments,[_33e]);if(this.focusNode&&this.focusNode.value&&!isNaN(this.value)){this.set("value",this.value);}},_onFocus:function(){if(this.disabled){return;}var val=this.get("value");if(typeof val=="number"&&!isNaN(val)){var _340=this.format(val,this.constraints);if(_340!==undefined){this.textbox.value=_340;}}this.inherited(arguments);},format:function(_341,_342){var _343=String(_341);if(typeof _341!="number"){return _343;}if(isNaN(_341)){return "";}if(!("rangeCheck" in this&&this.rangeCheck(_341,_342))&&_342.exponent!==false&&/\de[-+]?\d/i.test(_343)){return _343;}if(this.editOptions&&this._focused){_342=dojo.mixin({},_342,this.editOptions);}return this._formatter(_341,_342);},_parser:dojo.number.parse,parse:function(_344,_345){var v=this._parser(_344,dojo.mixin({},_345,(this.editOptions&&this._focused)?this.editOptions:{}));if(this.editOptions&&this._focused&&isNaN(v)){v=this._parser(_344,_345);}return v;},_getDisplayedValueAttr:function(){var v=this.inherited(arguments);return isNaN(v)?this.textbox.value:v;},filter:function(_346){return (_346===null||_346===""||_346===undefined)?NaN:this.inherited(arguments);},serialize:function(_347,_348){return (typeof _347!="number"||isNaN(_347))?"":this.inherited(arguments);},_setBlurValue:function(){var val=dojo.hitch(dojo.mixin({},this,{_focused:true}),"get")("value");this._setValueAttr(val,true);},_setValueAttr:function(_349,_34a,_34b){if(_349!==undefined&&_34b===undefined){_34b=String(_349);if(typeof _349=="number"){if(isNaN(_349)){_34b="";}else{if(("rangeCheck" in this&&this.rangeCheck(_349,this.constraints))||this.constraints.exponent===false||!/\de[-+]?\d/i.test(_34b)){_34b=undefined;}}}else{if(!_349){_34b="";_349=NaN;}else{_349=undefined;}}}this.inherited(arguments,[_349,_34a,_34b]);},_getValueAttr:function(){var v=this.inherited(arguments);if(isNaN(v)&&this.textbox.value!==""){if(this.constraints.exponent!==false&&/\de[-+]?\d/i.test(this.textbox.value)&&(new RegExp("^"+dojo.number._realNumberRegexp(dojo.mixin({},this.constraints))+"$").test(this.textbox.value))){var n=Number(this.textbox.value);return isNaN(n)?undefined:n;}else{return undefined;}}else{return v;}},isValid:function(_34c){if(!this._focused||this._isEmpty(this.textbox.value)){return this.inherited(arguments);}else{var v=this.get("value");if(!isNaN(v)&&this.rangeCheck(v,this.constraints)){if(this.constraints.exponent!==false&&/\de[-+]?\d/i.test(this.textbox.value)){return true;}else{return this.inherited(arguments);}}else{return false;}}}});dojo.declare("dijit.form.NumberTextBox",[dijit.form.RangeBoundTextBox,dijit.form.NumberTextBoxMixin],{baseClass:"dijitTextBox dijitNumberTextBox"});}if(!dojo._hasResource["dijit.form.NumberSpinner"]){dojo._hasResource["dijit.form.NumberSpinner"]=true;dojo.provide("dijit.form.NumberSpinner");dojo.declare("dijit.form.NumberSpinner",[dijit.form._Spinner,dijit.form.NumberTextBoxMixin],{adjust:function(val,_34d){var tc=this.constraints,v=isNaN(val),_34e=!isNaN(tc.max),_34f=!isNaN(tc.min);if(v&&_34d!=0){val=(_34d>0)?_34f?tc.min:_34e?tc.max:0:_34e?this.constraints.max:_34f?tc.min:0;}var _350=val+_34d;if(v||isNaN(_350)){return val;}if(_34e&&(_350>tc.max)){_350=tc.max;}if(_34f&&(_350<tc.min)){_350=tc.min;}return _350;},_onKeyPress:function(e){if((e.charOrCode==dojo.keys.HOME||e.charOrCode==dojo.keys.END)&&!(e.ctrlKey||e.altKey||e.metaKey)&&typeof this.get("value")!="undefined"){var _351=this.constraints[(e.charOrCode==dojo.keys.HOME?"min":"max")];if(typeof _351=="number"){this._setValueAttr(_351,false);}dojo.stopEvent(e);}}});}if(!dojo._hasResource["dijit._Contained"]){dojo._hasResource["dijit._Contained"]=true;dojo.provide("dijit._Contained");dojo.declare("dijit._Contained",null,{getParent:function(){var _352=dijit.getEnclosingWidget(this.domNode.parentNode);return _352&&_352.isContainer?_352:null;},_getSibling:function(_353){var node=this.domNode;do{node=node[_353+"Sibling"];}while(node&&node.nodeType!=1);return node&&dijit.byNode(node);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});}if(!dojo._hasResource["dijit._Container"]){dojo._hasResource["dijit._Container"]=true;dojo.provide("dijit._Container");dojo.declare("dijit._Container",null,{isContainer:true,buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_354,_355){var _356=this.containerNode;if(_355&&typeof _355=="number"){var _357=this.getChildren();if(_357&&_357.length>=_355){_356=_357[_355-1].domNode;_355="after";}}dojo.place(_354.domNode,_356,_355);if(this._started&&!_354._started){_354.startup();}},removeChild:function(_358){if(typeof _358=="number"){_358=this.getChildren()[_358];}if(_358){var node=_358.domNode;if(node&&node.parentNode){node.parentNode.removeChild(node);}}},hasChildren:function(){return this.getChildren().length>0;},destroyDescendants:function(_359){dojo.forEach(this.getChildren(),function(_35a){_35a.destroyRecursive(_359);});},_getSiblingOfChild:function(_35b,dir){var node=_35b.domNode,_35c=(dir>0?"nextSibling":"previousSibling");do{node=node[_35c];}while(node&&(node.nodeType!=1||!dijit.byNode(node)));return node&&dijit.byNode(node);},getIndexOfChild:function(_35d){return dojo.indexOf(this.getChildren(),_35d);},startup:function(){if(this._started){return;}dojo.forEach(this.getChildren(),function(_35e){_35e.startup();});this.inherited(arguments);}});}if(!dojo._hasResource["dijit.layout._LayoutWidget"]){dojo._hasResource["dijit.layout._LayoutWidget"]=true;dojo.provide("dijit.layout._LayoutWidget");dojo.declare("dijit.layout._LayoutWidget",[dijit._Widget,dijit._Container,dijit._Contained],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,buildRendering:function(){this.inherited(arguments);dojo.addClass(this.domNode,"dijitContainer");},startup:function(){if(this._started){return;}this.inherited(arguments);var _35f=this.getParent&&this.getParent();if(!(_35f&&_35f.isLayoutContainer)){this.resize();this.connect(dojo.isIE?this.domNode:dojo.global,"onresize",function(){this.resize();});}},resize:function(_360,_361){var node=this.domNode;if(_360){dojo.marginBox(node,_360);if(_360.t){node.style.top=_360.t+"px";}if(_360.l){node.style.left=_360.l+"px";}}var mb=_361||{};dojo.mixin(mb,_360||{});if(!("h" in mb)||!("w" in mb)){mb=dojo.mixin(dojo.marginBox(node),mb);}var cs=dojo.getComputedStyle(node);var me=dojo._getMarginExtents(node,cs);var be=dojo._getBorderExtents(node,cs);var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});var pe=dojo._getPadExtents(node,cs);this._contentBox={l:dojo._toPixelValue(node,cs.paddingLeft),t:dojo._toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};this.layout();},layout:function(){},_setupChild:function(_362){var cls=this.baseClass+"-child "+(_362.baseClass?this.baseClass+"-"+_362.baseClass:"");dojo.addClass(_362.domNode,cls);},addChild:function(_363,_364){this.inherited(arguments);if(this._started){this._setupChild(_363);}},removeChild:function(_365){var cls=this.baseClass+"-child"+(_365.baseClass?" "+this.baseClass+"-"+_365.baseClass:"");dojo.removeClass(_365.domNode,cls);this.inherited(arguments);}});dijit.layout.marginBox2contentBox=function(node,mb){var cs=dojo.getComputedStyle(node);var me=dojo._getMarginExtents(node,cs);var pb=dojo._getPadBorderExtents(node,cs);return {l:dojo._toPixelValue(node,cs.paddingLeft),t:dojo._toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};};(function(){var _366=function(word){return word.substring(0,1).toUpperCase()+word.substring(1);};var size=function(_367,dim){var _368=_367.resize?_367.resize(dim):dojo.marginBox(_367.domNode,dim);if(_368){dojo.mixin(_367,_368);}else{dojo.mixin(_367,dojo.marginBox(_367.domNode));dojo.mixin(_367,dim);}};dijit.layout.layoutChildren=function(_369,dim,_36a,_36b,_36c){dim=dojo.mixin({},dim);dojo.addClass(_369,"dijitLayoutContainer");_36a=dojo.filter(_36a,function(item){return item.region!="center"&&item.layoutAlign!="client";}).concat(dojo.filter(_36a,function(item){return item.region=="center"||item.layoutAlign=="client";}));dojo.forEach(_36a,function(_36d){var elm=_36d.domNode,pos=(_36d.region||_36d.layoutAlign);var _36e=elm.style;_36e.left=dim.l+"px";_36e.top=dim.t+"px";_36e.position="absolute";dojo.addClass(elm,"dijitAlign"+_366(pos));var _36f={};if(_36b&&_36b==_36d.id){_36f[_36d.region=="top"||_36d.region=="bottom"?"h":"w"]=_36c;}if(pos=="top"||pos=="bottom"){_36f.w=dim.w;size(_36d,_36f);dim.h-=_36d.h;if(pos=="top"){dim.t+=_36d.h;}else{_36e.top=dim.t+dim.h+"px";}}else{if(pos=="left"||pos=="right"){_36f.h=dim.h;size(_36d,_36f);dim.w-=_36d.w;if(pos=="left"){dim.l+=_36d.w;}else{_36e.left=dim.l+dim.w+"px";}}else{if(pos=="client"||pos=="center"){size(_36d,dim);}}}});};})();}if(!dojo._hasResource["dijit.layout._ContentPaneResizeMixin"]){dojo._hasResource["dijit.layout._ContentPaneResizeMixin"]=true;dojo.provide("dijit.layout._ContentPaneResizeMixin");dojo.declare("dijit.layout._ContentPaneResizeMixin",null,{doLayout:true,isContainer:true,isLayoutContainer:true,_startChildren:function(){dojo.forEach(this.getChildren(),function(_370){_370.startup();_370._started=true;});},startup:function(){if(this._started){return;}var _371=dijit._Contained.prototype.getParent.call(this);this._childOfLayoutWidget=_371&&_371.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._startChildren();if(this._isShown()){this._onShow();}if(!this._childOfLayoutWidget){this.connect(dojo.isIE?this.domNode:dojo.global,"onresize",function(){this._needLayout=!this._childOfLayoutWidget;this.resize();});}},_checkIfSingleChild:function(){var _372=dojo.query("> *",this.containerNode).filter(function(node){return node.tagName!=="SCRIPT";}),_373=_372.filter(function(node){return dojo.hasAttr(node,"data-dojo-type")||dojo.hasAttr(node,"dojoType")||dojo.hasAttr(node,"widgetId");}),_374=dojo.filter(_373.map(dijit.byNode),function(_375){return _375&&_375.domNode&&_375.resize;});if(_372.length==_373.length&&_374.length==1){this._singleChild=_374[0];}else{delete this._singleChild;}dojo.toggleClass(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild);},resize:function(_376,_377){if(!this._wasShown&&this.open!==false){this._onShow();}this._resizeCalled=true;this._scheduleLayout(_376,_377);},_scheduleLayout:function(_378,_379){if(this._isShown()){this._layout(_378,_379);}else{this._needLayout=true;this._changeSize=_378;this._resultSize=_379;}},_layout:function(_37a,_37b){if(_37a){dojo.marginBox(this.domNode,_37a);}var cn=this.containerNode;if(cn===this.domNode){var mb=_37b||{};dojo.mixin(mb,_37a||{});if(!("h" in mb)||!("w" in mb)){mb=dojo.mixin(dojo.marginBox(cn),mb);}this._contentBox=dijit.layout.marginBox2contentBox(cn,mb);}else{this._contentBox=dojo.contentBox(cn);}this._layoutChildren();delete this._needLayout;},_layoutChildren:function(){if(this.doLayout){this._checkIfSingleChild();}if(this._singleChild&&this._singleChild.resize){var cb=this._contentBox||dojo.contentBox(this.containerNode);this._singleChild.resize({w:cb.w,h:cb.h});}else{dojo.forEach(this.getChildren(),function(_37c){if(_37c.resize){_37c.resize();}});}},_isShown:function(){if(this._childOfLayoutWidget){if(this._resizeCalled&&"open" in this){return this.open;}return this._resizeCalled;}else{if("open" in this){return this.open;}else{var node=this.domNode,_37d=this.domNode.parentNode;return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!dojo.hasClass(node,"dijitHidden")&&_37d&&_37d.style&&(_37d.style.display!="none");}}},_onShow:function(){if(this._needLayout){this._layout(this._changeSize,this._resultSize);}this.inherited(arguments);this._wasShown=true;}});}if(!dojo._hasResource["dojo.html"]){dojo._hasResource["dojo.html"]=true;dojo.provide("dojo.html");dojo.getObject("html",true,dojo);(function(){var _37e=0,d=dojo;dojo.html._secureForInnerHtml=function(cont){return cont.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");};dojo.html._emptyNode=dojo.empty;dojo.html._setNodeContent=function(node,cont){d.empty(node);if(cont){if(typeof cont=="string"){cont=d._toDom(cont,node.ownerDocument);}if(!cont.nodeType&&d.isArrayLike(cont)){for(var _37f=cont.length,i=0;i<cont.length;i=_37f==cont.length?i+1:0){d.place(cont[i],node,"last");}}else{d.place(cont,node,"last");}}return node;};dojo.declare("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,parserScope:dojo._scopeName,startup:true,constructor:function(_380,node){dojo.mixin(this,_380||{});node=this.node=dojo.byId(this.node||node);if(!this.id){this.id=["Setter",(node)?node.id||node.tagName:"",_37e++].join("_");}},set:function(cont,_381){if(undefined!==cont){this.content=cont;}if(_381){this._mixin(_381);}this.onBegin();this.setContent();this.onEnd();return this.node;},setContent:function(){var node=this.node;if(!node){throw new Error(this.declaredClass+": setContent given no node");}try{node=dojo.html._setNodeContent(node,this.content);}catch(e){var _382=this.onContentError(e);try{node.innerHTML=_382;}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e);}}this.node=node;},empty:function(){if(this.parseResults&&this.parseResults.length){dojo.forEach(this.parseResults,function(w){if(w.destroy){w.destroy();}});delete this.parseResults;}dojo.html._emptyNode(this.node);},onBegin:function(){var cont=this.content;if(dojo.isString(cont)){if(this.cleanContent){cont=dojo.html._secureForInnerHtml(cont);}if(this.extractContent){var _383=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_383){cont=_383[1];}}}this.empty();this.content=cont;return this.node;},onEnd:function(){if(this.parseContent){this._parse();}return this.node;},tearDown:function(){delete this.parseResults;delete this.node;delete this.content;},onContentError:function(err){return "Error occured setting content: "+err;},_mixin:function(_384){var _385={},key;for(key in _384){if(key in _385){continue;}this[key]=_384[key];}},_parse:function(){var _386=this.node;try{var _387={};dojo.forEach(["dir","lang","textDir"],function(name){if(this[name]){_387[name]=this[name];}},this);this.parseResults=dojo.parser.parse({rootNode:_386,noStart:!this.startup,inherited:_387,scope:this.parserScope});}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);}},_onError:function(type,err,_388){var _389=this["on"+type+"Error"].call(this,err);if(_388){console.error(_388,err);}else{if(_389){dojo.html._setNodeContent(this.node,_389,true);}}}});dojo.html.set=function(node,cont,_38a){if(undefined==cont){console.warn("dojo.html.set: no cont argument provided, using empty string");cont="";}if(!_38a){return dojo.html._setNodeContent(node,cont,true);}else{var op=new dojo.html._ContentSetter(dojo.mixin(_38a,{content:cont,node:node}));return op.set();}};})();}if(!dojo._hasResource["dijit.layout.ContentPane"]){dojo._hasResource["dijit.layout.ContentPane"]=true;dojo.provide("dijit.layout.ContentPane");dojo.declare("dijit.layout.ContentPane",[dijit._Widget,dijit.layout._ContentPaneResizeMixin],{href:"",extractContent:false,parseOnLoad:true,parserScope:dojo._scopeName,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{title:[]}),stopParser:true,template:false,create:function(_38b,_38c){if((!_38b||!_38b.template)&&_38c&&!("href" in _38b)&&!("content" in _38b)){var df=dojo.doc.createDocumentFragment();_38c=dojo.byId(_38c);while(_38c.firstChild){df.appendChild(_38c.firstChild);}_38b=dojo.delegate(_38b,{content:df});}this.inherited(arguments,[_38b,_38c]);},postMixInProperties:function(){this.inherited(arguments);var _38d=dojo.i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=dojo.string.substitute(this.loadingMessage,_38d);this.errorMessage=dojo.string.substitute(this.errorMessage,_38d);},buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}this.domNode.title="";if(!dojo.attr(this.domNode,"role")){dijit.setWaiRole(this.domNode,"group");}},_startChildren:function(){this.inherited(arguments);if(this._contentSetter){dojo.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&dojo.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},setHref:function(href){dojo.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",href);},_setHrefAttr:function(href){this.cancel();this.onLoadDeferred=new dojo.Deferred(dojo.hitch(this,"cancel"));this.onLoadDeferred.addCallback(dojo.hitch(this,"onLoad"));this._set("href",href);if(this.preload||(this._created&&this._isShown())){this._load();}else{this._hrefChanged=true;}return this.onLoadDeferred;},setContent:function(data){dojo.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",data);},_setContentAttr:function(data){this._set("href","");this.cancel();this.onLoadDeferred=new dojo.Deferred(dojo.hitch(this,"cancel"));if(this._created){this.onLoadDeferred.addCallback(dojo.hitch(this,"onLoad"));}this._setContent(data||"");this._isDownloaded=false;return this.onLoadDeferred;},_getContentAttr:function(){return this.containerNode.innerHTML;},cancel:function(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel();}delete this._xhrDfd;this.onLoadDeferred=null;},uninitialize:function(){if(this._beingDestroyed){this.cancel();}this.inherited(arguments);},destroyRecursive:function(_38e){if(this._beingDestroyed){return;}this.inherited(arguments);},_onShow:function(){this.inherited(arguments);if(this.href){if(!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)){return this.refresh();}}},refresh:function(){this.cancel();this.onLoadDeferred=new dojo.Deferred(dojo.hitch(this,"cancel"));this.onLoadDeferred.addCallback(dojo.hitch(this,"onLoad"));this._load();return this.onLoadDeferred;},_load:function(){this._setContent(this.onDownloadStart(),true);var self=this;var _38f={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(dojo.isObject(this.ioArgs)){dojo.mixin(_38f,this.ioArgs);}var hand=(this._xhrDfd=(this.ioMethod||dojo.xhrGet)(_38f));hand.addCallback(function(html){try{self._isDownloaded=true;self._setContent(html,false);self.onDownloadEnd();}catch(err){self._onError("Content",err);}delete self._xhrDfd;return html;});hand.addErrback(function(err){if(!hand.canceled){self._onError("Download",err);}delete self._xhrDfd;return err;});delete this._hrefChanged;},_onLoadHandler:function(data){this._set("isLoaded",true);try{this.onLoadDeferred.callback(data);}catch(e){console.error("Error "+this.widgetId+" running custom onLoad code: "+e.message);}},_onUnloadHandler:function(){this._set("isLoaded",false);try{this.onUnload();}catch(e){console.error("Error "+this.widgetId+" running custom onUnload code: "+e.message);}},destroyDescendants:function(){if(this.isLoaded){this._onUnloadHandler();}var _390=this._contentSetter;dojo.forEach(this.getChildren(),function(_391){if(_391.destroyRecursive){_391.destroyRecursive();}});if(_390){dojo.forEach(_390.parseResults,function(_392){if(_392.destroyRecursive&&_392.domNode&&_392.domNode.parentNode==dojo.body()){_392.destroyRecursive();}});delete _390.parseResults;}dojo.html._emptyNode(this.containerNode);delete this._singleChild;},_setContent:function(cont,_393){this.destroyDescendants();var _394=this._contentSetter;if(!(_394&&_394 instanceof dojo.html._ContentSetter)){_394=this._contentSetter=new dojo.html._ContentSetter({node:this.containerNode,_onError:dojo.hitch(this,this._onError),onContentError:dojo.hitch(this,function(e){var _395=this.onContentError(e);try{this.containerNode.innerHTML=_395;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}var _396=dojo.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:this.parseOnLoad,parserScope:this.parserScope,startup:false,dir:this.dir,lang:this.lang},this._contentSetterParams||{});_394.set((dojo.isObject(cont)&&cont.domNode)?cont.domNode:cont,_396);delete this._contentSetterParams;if(this.doLayout){this._checkIfSingleChild();}if(!_393){if(this._started){this._startChildren();this._scheduleLayout();}this._onLoadHandler(cont);}},_onError:function(type,err,_397){this.onLoadDeferred.errback(err);var _398=this["on"+type+"Error"].call(this,err);if(_397){console.error(_397,err);}else{if(_398){this._setContent(_398,true);}}},onLoad:function(data){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage;},onContentError:function(_399){},onDownloadError:function(_39a){return this.errorMessage;},onDownloadEnd:function(){}});}if(!dojo._hasResource["dijit.tree.TreeStoreModel"]){dojo._hasResource["dijit.tree.TreeStoreModel"]=true;dojo.provide("dijit.tree.TreeStoreModel");dojo.declare("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",root:null,query:null,deferItemLoadingUntilExpand:false,constructor:function(args){dojo.mixin(this,args);this.connects=[];var _39b=this.store;if(!_39b.getFeatures()["dojo.data.api.Identity"]){throw new Error("dijit.Tree: store must support dojo.data.Identity");}if(_39b.getFeatures()["dojo.data.api.Notification"]){this.connects=this.connects.concat([dojo.connect(_39b,"onNew",this,"onNewItem"),dojo.connect(_39b,"onDelete",this,"onDeleteItem"),dojo.connect(_39b,"onSet",this,"onSetItem")]);}},destroy:function(){dojo.forEach(this.connects,dojo.disconnect);},getRoot:function(_39c,_39d){if(this.root){_39c(this.root);}else{this.store.fetch({query:this.query,onComplete:dojo.hitch(this,function(_39e){if(_39e.length!=1){throw new Error(this.declaredClass+": query "+dojo.toJson(this.query)+" returned "+_39e.length+" items, but must return exactly one item");}this.root=_39e[0];_39c(this.root);}),onError:_39d});}},mayHaveChildren:function(item){return dojo.some(this.childrenAttrs,function(attr){return this.store.hasAttribute(item,attr);},this);},getChildren:function(_39f,_3a0,_3a1){var _3a2=this.store;if(!_3a2.isItemLoaded(_39f)){var _3a3=dojo.hitch(this,arguments.callee);_3a2.loadItem({item:_39f,onItem:function(_3a4){_3a3(_3a4,_3a0,_3a1);},onError:_3a1});return;}var _3a5=[];for(var i=0;i<this.childrenAttrs.length;i++){var vals=_3a2.getValues(_39f,this.childrenAttrs[i]);_3a5=_3a5.concat(vals);}var _3a6=0;if(!this.deferItemLoadingUntilExpand){dojo.forEach(_3a5,function(item){if(!_3a2.isItemLoaded(item)){_3a6++;}});}if(_3a6==0){_3a0(_3a5);}else{dojo.forEach(_3a5,function(item,idx){if(!_3a2.isItemLoaded(item)){_3a2.loadItem({item:item,onItem:function(item){_3a5[idx]=item;if(--_3a6==0){_3a0(_3a5);}},onError:_3a1});}});}},isItem:function(_3a7){return this.store.isItem(_3a7);},fetchItemByIdentity:function(_3a8){this.store.fetchItemByIdentity(_3a8);},getIdentity:function(item){return this.store.getIdentity(item);},getLabel:function(item){if(this.labelAttr){return this.store.getValue(item,this.labelAttr);}else{return this.store.getLabel(item);}},newItem:function(args,_3a9,_3aa){var _3ab={parent:_3a9,attribute:this.childrenAttrs[0]},_3ac;if(this.newItemIdAttr&&args[this.newItemIdAttr]){this.fetchItemByIdentity({identity:args[this.newItemIdAttr],scope:this,onItem:function(item){if(item){this.pasteItem(item,null,_3a9,true,_3aa);}else{_3ac=this.store.newItem(args,_3ab);if(_3ac&&(_3aa!=undefined)){this.pasteItem(_3ac,_3a9,_3a9,false,_3aa);}}}});}else{_3ac=this.store.newItem(args,_3ab);if(_3ac&&(_3aa!=undefined)){this.pasteItem(_3ac,_3a9,_3a9,false,_3aa);}}},pasteItem:function(_3ad,_3ae,_3af,_3b0,_3b1){var _3b2=this.store,_3b3=this.childrenAttrs[0];if(_3ae){dojo.forEach(this.childrenAttrs,function(attr){if(_3b2.containsValue(_3ae,attr,_3ad)){if(!_3b0){var _3b4=dojo.filter(_3b2.getValues(_3ae,attr),function(x){return x!=_3ad;});_3b2.setValues(_3ae,attr,_3b4);}_3b3=attr;}});}if(_3af){if(typeof _3b1=="number"){var _3b5=_3b2.getValues(_3af,_3b3).slice();_3b5.splice(_3b1,0,_3ad);_3b2.setValues(_3af,_3b3,_3b5);}else{_3b2.setValues(_3af,_3b3,_3b2.getValues(_3af,_3b3).concat(_3ad));}}},onChange:function(item){},onChildrenChange:function(_3b6,_3b7){},onDelete:function(_3b8,_3b9){},onNewItem:function(item,_3ba){if(!_3ba){return;}this.getChildren(_3ba.item,dojo.hitch(this,function(_3bb){this.onChildrenChange(_3ba.item,_3bb);}));},onDeleteItem:function(item){this.onDelete(item);},onSetItem:function(item,_3bc,_3bd,_3be){if(dojo.indexOf(this.childrenAttrs,_3bc)!=-1){this.getChildren(item,dojo.hitch(this,function(_3bf){this.onChildrenChange(item,_3bf);}));}else{this.onChange(item);}}});}if(!dojo._hasResource["dijit.tree.ForestStoreModel"]){dojo._hasResource["dijit.tree.ForestStoreModel"]=true;dojo.provide("dijit.tree.ForestStoreModel");dojo.declare("dijit.tree.ForestStoreModel",dijit.tree.TreeStoreModel,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(_3c0){this.root={store:this,root:true,id:_3c0.rootId,label:_3c0.rootLabel,children:_3c0.rootChildren};},mayHaveChildren:function(item){return item===this.root||this.inherited(arguments);},getChildren:function(_3c1,_3c2,_3c3){if(_3c1===this.root){if(this.root.children){_3c2(this.root.children);}else{this.store.fetch({query:this.query,onComplete:dojo.hitch(this,function(_3c4){this.root.children=_3c4;_3c2(_3c4);}),onError:_3c3});}}else{this.inherited(arguments);}},isItem:function(_3c5){return (_3c5===this.root)?true:this.inherited(arguments);},fetchItemByIdentity:function(_3c6){if(_3c6.identity==this.root.id){var _3c7=_3c6.scope?_3c6.scope:dojo.global;if(_3c6.onItem){_3c6.onItem.call(_3c7,this.root);}}else{this.inherited(arguments);}},getIdentity:function(item){return (item===this.root)?this.root.id:this.inherited(arguments);},getLabel:function(item){return (item===this.root)?this.root.label:this.inherited(arguments);},newItem:function(args,_3c8,_3c9){if(_3c8===this.root){this.onNewRootItem(args);return this.store.newItem(args);}else{return this.inherited(arguments);}},onNewRootItem:function(args){},pasteItem:function(_3ca,_3cb,_3cc,_3cd,_3ce){if(_3cb===this.root){if(!_3cd){this.onLeaveRoot(_3ca);}}dijit.tree.TreeStoreModel.prototype.pasteItem.call(this,_3ca,_3cb===this.root?null:_3cb,_3cc===this.root?null:_3cc,_3cd,_3ce);if(_3cc===this.root){this.onAddToRoot(_3ca);}},onAddToRoot:function(item){console.log(this,": item ",item," added to root");},onLeaveRoot:function(item){console.log(this,": item ",item," removed from root");},_requeryTop:function(){var _3cf=this.root.children||[];this.store.fetch({query:this.query,onComplete:dojo.hitch(this,function(_3d0){this.root.children=_3d0;if(_3cf.length!=_3d0.length||dojo.some(_3cf,function(item,idx){return _3d0[idx]!=item;})){this.onChildrenChange(this.root,_3d0);}})});},onNewItem:function(item,_3d1){this._requeryTop();this.inherited(arguments);},onDeleteItem:function(item){if(dojo.indexOf(this.root.children,item)!=-1){this._requeryTop();}this.inherited(arguments);},onSetItem:function(item,_3d2,_3d3,_3d4){this._requeryTop();this.inherited(arguments);}});}if(!dojo._hasResource["dojo.fx.Toggler"]){dojo._hasResource["dojo.fx.Toggler"]=true;dojo.provide("dojo.fx.Toggler");dojo.declare("dojo.fx.Toggler",null,{node:null,showFunc:dojo.fadeIn,hideFunc:dojo.fadeOut,showDuration:200,hideDuration:200,constructor:function(args){var _3d5=this;dojo.mixin(_3d5,args);_3d5.node=args.node;_3d5._showArgs=dojo.mixin({},args);_3d5._showArgs.node=_3d5.node;_3d5._showArgs.duration=_3d5.showDuration;_3d5.showAnim=_3d5.showFunc(_3d5._showArgs);_3d5._hideArgs=dojo.mixin({},args);_3d5._hideArgs.node=_3d5.node;_3d5._hideArgs.duration=_3d5.hideDuration;_3d5.hideAnim=_3d5.hideFunc(_3d5._hideArgs);dojo.connect(_3d5.showAnim,"beforeBegin",dojo.hitch(_3d5.hideAnim,"stop",true));dojo.connect(_3d5.hideAnim,"beforeBegin",dojo.hitch(_3d5.showAnim,"stop",true));},show:function(_3d6){return this.showAnim.play(_3d6||0);},hide:function(_3d7){return this.hideAnim.play(_3d7||0);}});}if(!dojo._hasResource["dojo.fx"]){dojo._hasResource["dojo.fx"]=true;dojo.provide("dojo.fx");(function(){var d=dojo,_3d8={_fire:function(evt,args){if(this[evt]){this[evt].apply(this,args||[]);}return this;}};var _3d9=function(_3da){this._index=-1;this._animations=_3da||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;d.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};d.extend(_3d9,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){d.disconnect(this._onAnimateCtx);d.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=d.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx=d.connect(this._current,"onEnd",this,"_onEnd");this._current.play(0,true);}},play:function(_3db,_3dc){if(!this._current){this._current=this._animations[this._index=0];}if(!_3dc&&this._current.status()=="playing"){return this;}var _3dd=d.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin");}),_3de=d.connect(this._current,"onBegin",this,function(arg){this._fire("onBegin",arguments);}),_3df=d.connect(this._current,"onPlay",this,function(arg){this._fire("onPlay",arguments);d.disconnect(_3dd);d.disconnect(_3de);d.disconnect(_3df);});if(this._onAnimateCtx){d.disconnect(this._onAnimateCtx);}this._onAnimateCtx=d.connect(this._current,"onAnimate",this,"_onAnimate");if(this._onEndCtx){d.disconnect(this._onEndCtx);}this._onEndCtx=d.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=d.connect(this._current,"onPause",this,function(arg){this._fire("onPause",arguments);d.disconnect(e);});this._current.pause();}return this;},gotoPercent:function(_3e0,_3e1){this.pause();var _3e2=this.duration*_3e0;this._current=null;d.some(this._animations,function(a){if(a.duration<=_3e2){this._current=a;return true;}_3e2-=a.duration;return false;});if(this._current){this._current.gotoPercent(_3e2/this._current.duration,_3e1);}return this;},stop:function(_3e3){if(this._current){if(_3e3){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=d.connect(this._current,"onStop",this,function(arg){this._fire("onStop",arguments);d.disconnect(e);});this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){d.disconnect(this._onAnimateCtx);}if(this._onEndCtx){d.disconnect(this._onEndCtx);}}});d.extend(_3d9,_3d8);dojo.fx.chain=function(_3e4){return new _3d9(_3e4);};var _3e5=function(_3e6){this._animations=_3e6||[];this._connects=[];this._finished=0;this.duration=0;d.forEach(_3e6,function(a){var _3e7=a.duration;if(a.delay){_3e7+=a.delay;}if(this.duration<_3e7){this.duration=_3e7;}this._connects.push(d.connect(a,"onEnd",this,"_onEnd"));},this);this._pseudoAnimation=new d.Animation({curve:[0,1],duration:this.duration});var self=this;d.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){self._connects.push(d.connect(self._pseudoAnimation,evt,function(){self._fire(evt,arguments);}));});};d.extend(_3e5,{_doAction:function(_3e8,args){d.forEach(this._animations,function(a){a[_3e8].apply(a,args);});return this;},_onEnd:function(){if(++this._finished>this._animations.length){this._fire("onEnd");}},_call:function(_3e9,args){var t=this._pseudoAnimation;t[_3e9].apply(t,args);},play:function(_3ea,_3eb){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_3ec,_3ed){var ms=this.duration*_3ec;d.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_3ed);});this._call("gotoPercent",arguments);return this;},stop:function(_3ee){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){d.forEach(this._connects,dojo.disconnect);}});d.extend(_3e5,_3d8);dojo.fx.combine=function(_3ef){return new _3e5(_3ef);};dojo.fx.wipeIn=function(args){var node=args.node=d.byId(args.node),s=node.style,o;var anim=d.animateProperty(d.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _3f0=d.style(node,"height");return Math.max(_3f0,1);}},end:function(){return node.scrollHeight;}}}},args));d.connect(anim,"onEnd",function(){s.height="auto";s.overflow=o;});return anim;};dojo.fx.wipeOut=function(args){var node=args.node=d.byId(args.node),s=node.style,o;var anim=d.animateProperty(d.mixin({properties:{height:{end:1}}},args));d.connect(anim,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";});d.connect(anim,"onEnd",function(){s.overflow=o;s.height="auto";s.display="none";});return anim;};dojo.fx.slideTo=function(args){var node=args.node=d.byId(args.node),top=null,left=null;var init=(function(n){return function(){var cs=d.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=d.position(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var anim=d.animateProperty(d.mixin({properties:{top:args.top||0,left:args.left||0}},args));d.connect(anim,"beforeBegin",anim,init);return anim;};})();}if(!dojo._hasResource["dojo.DeferredList"]){dojo._hasResource["dojo.DeferredList"]=true;dojo.provide("dojo.DeferredList");dojo.DeferredList=function(list,_3f1,_3f2,_3f3,_3f4){var _3f5=[];dojo.Deferred.call(this);var self=this;if(list.length===0&&!_3f1){this.resolve([0,[]]);}var _3f6=0;dojo.forEach(list,function(item,i){item.then(function(_3f7){if(_3f1){self.resolve([i,_3f7]);}else{_3f8(true,_3f7);}},function(_3f9){if(_3f2){self.reject(_3f9);}else{_3f8(false,_3f9);}if(_3f3){return null;}throw _3f9;});function _3f8(_3fa,_3fb){_3f5[i]=[_3fa,_3fb];_3f6++;if(_3f6===list.length){self.resolve(_3f5);}};});};dojo.DeferredList.prototype=new dojo.Deferred();dojo.DeferredList.prototype.gatherResults=function(_3fc){var d=new dojo.DeferredList(_3fc,false,true,false);d.addCallback(function(_3fd){var ret=[];dojo.forEach(_3fd,function(_3fe){ret.push(_3fe[1]);});return ret;});return d;};}if(!dojo._hasResource["dojo.cookie"]){dojo._hasResource["dojo.cookie"]=true;dojo.provide("dojo.cookie");dojo.cookie=function(name,_3ff,_400){var c=document.cookie;if(arguments.length==1){var _401=c.match(new RegExp("(?:^|; )"+dojo.regexp.escapeString(name)+"=([^;]*)"));return _401?decodeURIComponent(_401[1]):undefined;}else{_400=_400||{};var exp=_400.expires;if(typeof exp=="number"){var d=new Date();d.setTime(d.getTime()+exp*24*60*60*1000);exp=_400.expires=d;}if(exp&&exp.toUTCString){_400.expires=exp.toUTCString();}_3ff=encodeURIComponent(_3ff);var _402=name+"="+_3ff,_403;for(_403 in _400){_402+="; "+_403;var _404=_400[_403];if(_404!==true){_402+="="+_404;}}document.cookie=_402;}};dojo.cookie.isSupported=function(){if(!("cookieEnabled" in navigator)){this("__djCookieTest__","CookiesAllowed");navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";if(navigator.cookieEnabled){this("__djCookieTest__","",{expires:-1});}}return navigator.cookieEnabled;};}if(!dojo._hasResource["dojo.dnd.common"]){dojo._hasResource["dojo.dnd.common"]=true;dojo.provide("dojo.dnd.common");dojo.getObject("dnd",true,dojo);dojo.dnd.getCopyKeyState=dojo.isCopyKey;dojo.dnd._uniqueId=0;dojo.dnd.getUniqueId=function(){var id;do{id=dojo._scopeName+"Unique"+(++dojo.dnd._uniqueId);}while(dojo.byId(id));return id;};dojo.dnd._empty={};dojo.dnd.isFormElement=function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;};}if(!dojo._hasResource["dojo.dnd.Container"]){dojo._hasResource["dojo.dnd.Container"]=true;dojo.provide("dojo.dnd.Container");dojo.declare("dojo.dnd.Container",null,{skipForm:false,constructor:function(node,_405){this.node=dojo.byId(node);if(!_405){_405={};}this.creator=_405.creator||null;this.skipForm=_405.skipForm;this.parent=_405.dropParent&&dojo.byId(_405.dropParent);this.map={};this.current=null;this.containerState="";dojo.addClass(this.node,"dojoDndContainer");if(!(_405&&_405._skipStartup)){this.startup();}this.events=[dojo.connect(this.node,"onmouseover",this,"onMouseOver"),dojo.connect(this.node,"onmouseout",this,"onMouseOut"),dojo.connect(this.node,"ondragstart",this,"onSelectStart"),dojo.connect(this.node,"onselectstart",this,"onSelectStart")];},creator:function(){},getItem:function(key){return this.map[key];},setItem:function(key,data){this.map[key]=data;},delItem:function(key){delete this.map[key];},forInItems:function(f,o){o=o||dojo.global;var m=this.map,e=dojo.dnd._empty;for(var i in m){if(i in e){continue;}f.call(o,m[i],i,this);}return o;},clearItems:function(){this.map={};},getAllNodes:function(){return dojo.query("> .dojoDndItem",this.parent);},sync:function(){var map={};this.getAllNodes().forEach(function(node){if(node.id){var item=this.getItem(node.id);if(item){map[node.id]=item;return;}}else{node.id=dojo.dnd.getUniqueId();}var type=node.getAttribute("dndType"),data=node.getAttribute("dndData");map[node.id]={data:data||node.innerHTML,type:type?type.split(/\s*,\s*/):["text"]};},this);this.map=map;return this;},insertNodes:function(data,_406,_407){if(!this.parent.firstChild){_407=null;}else{if(_406){if(!_407){_407=this.parent.firstChild;}}else{if(_407){_407=_407.nextSibling;}}}if(_407){for(var i=0;i<data.length;++i){var t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});this.parent.insertBefore(t.node,_407);}}else{for(var i=0;i<data.length;++i){var t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});this.parent.appendChild(t.node);}}return this;},destroy:function(){dojo.forEach(this.events,dojo.disconnect);this.clearItems();this.node=this.parent=this.current=null;},markupFactory:function(_408,node){_408._skipStartup=true;return new dojo.dnd.Container(node,_408);},startup:function(){if(!this.parent){this.parent=this.node;if(this.parent.tagName.toLowerCase()=="table"){var c=this.parent.getElementsByTagName("tbody");if(c&&c.length){this.parent=c[0];}}}this.defaultCreator=dojo.dnd._defaultCreator(this.parent);this.sync();},onMouseOver:function(e){var n=e.relatedTarget;while(n){if(n==this.node){break;}try{n=n.parentNode;}catch(x){n=null;}}if(!n){this._changeState("Container","Over");this.onOverEvent();}n=this._getChildByEvent(e);if(this.current==n){return;}if(this.current){this._removeItemClass(this.current,"Over");}if(n){this._addItemClass(n,"Over");}this.current=n;},onMouseOut:function(e){for(var n=e.relatedTarget;n;){if(n==this.node){return;}try{n=n.parentNode;}catch(x){n=null;}}if(this.current){this._removeItemClass(this.current,"Over");this.current=null;}this._changeState("Container","");this.onOutEvent();},onSelectStart:function(e){if(!this.skipForm||!dojo.dnd.isFormElement(e)){dojo.stopEvent(e);}},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(type,_409){var _40a="dojoDnd"+type;var _40b=type.toLowerCase()+"State";dojo.replaceClass(this.node,_40a+_409,_40a+this[_40b]);this[_40b]=_409;},_addItemClass:function(node,type){dojo.addClass(node,"dojoDndItem"+type);},_removeItemClass:function(node,type){dojo.removeClass(node,"dojoDndItem"+type);},_getChildByEvent:function(e){var node=e.target;if(node){for(var _40c=node.parentNode;_40c;node=_40c,_40c=node.parentNode){if(_40c==this.parent&&dojo.hasClass(node,"dojoDndItem")){return node;}}}return null;},_normalizedCreator:function(item,hint){var t=(this.creator||this.defaultCreator).call(this,item,hint);if(!dojo.isArray(t.type)){t.type=["text"];}if(!t.node.id){t.node.id=dojo.dnd.getUniqueId();}dojo.addClass(t.node,"dojoDndItem");return t;}});dojo.dnd._createNode=function(tag){if(!tag){return dojo.dnd._createSpan;}return function(text){return dojo.create(tag,{innerHTML:text});};};dojo.dnd._createTrTd=function(text){var tr=dojo.create("tr");dojo.create("td",{innerHTML:text},tr);return tr;};dojo.dnd._createSpan=function(text){return dojo.create("span",{innerHTML:text});};dojo.dnd._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};dojo.dnd._defaultCreator=function(node){var tag=node.tagName.toLowerCase();var c=tag=="tbody"||tag=="thead"?dojo.dnd._createTrTd:dojo.dnd._createNode(dojo.dnd._defaultCreatorNodes[tag]);return function(item,hint){var _40d=item&&dojo.isObject(item),data,type,n;if(_40d&&item.tagName&&item.nodeType&&item.getAttribute){data=item.getAttribute("dndData")||item.innerHTML;type=item.getAttribute("dndType");type=type?type.split(/\s*,\s*/):["text"];n=item;}else{data=(_40d&&item.data)?item.data:item;type=(_40d&&item.type)?item.type:["text"];n=(hint=="avatar"?dojo.dnd._createSpan:c)(String(data));}if(!n.id){n.id=dojo.dnd.getUniqueId();}return {node:n,data:data,type:type};};};}if(!dojo._hasResource["dijit.tree._dndContainer"]){dojo._hasResource["dijit.tree._dndContainer"]=true;dojo.provide("dijit.tree._dndContainer");dojo.getObject("tree",true,dojo);dijit.tree._compareNodes=function(n1,n2){if(n1===n2){return 0;}if("sourceIndex" in document.documentElement){return n1.sourceIndex-n2.sourceIndex;}else{if("compareDocumentPosition" in document.documentElement){return n1.compareDocumentPosition(n2)&2?1:-1;}else{if(document.createRange){var r1=doc.createRange();r1.setStartBefore(n1);var r2=doc.createRange();r2.setStartBefore(n2);return r1.compareBoundaryPoints(r1.END_TO_END,r2);}else{throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser");}}}};dojo.declare("dijit.tree._dndContainer",null,{constructor:function(tree,_40e){this.tree=tree;this.node=tree.domNode;dojo.mixin(this,_40e);this.map={};this.current=null;this.containerState="";dojo.addClass(this.node,"dojoDndContainer");this.events=[dojo.connect(this.node,"onmouseenter",this,"onOverEvent"),dojo.connect(this.node,"onmouseleave",this,"onOutEvent"),dojo.connect(this.tree,"_onNodeMouseEnter",this,"onMouseOver"),dojo.connect(this.tree,"_onNodeMouseLeave",this,"onMouseOut"),dojo.connect(this.node,"ondragstart",dojo,"stopEvent"),dojo.connect(this.node,"onselectstart",dojo,"stopEvent")];},getItem:function(key){var _40f=this.selection[key],ret={data:_40f,type:["treeNode"]};return ret;},destroy:function(){dojo.forEach(this.events,dojo.disconnect);this.node=this.parent=null;},onMouseOver:function(_410,evt){this.current=_410;},onMouseOut:function(_411,evt){this.current=null;},_changeState:function(type,_412){var _413="dojoDnd"+type;var _414=type.toLowerCase()+"State";dojo.replaceClass(this.node,_413+_412,_413+this[_414]);this[_414]=_412;},_addItemClass:function(node,type){dojo.addClass(node,"dojoDndItem"+type);},_removeItemClass:function(node,type){dojo.removeClass(node,"dojoDndItem"+type);},onOverEvent:function(){this._changeState("Container","Over");},onOutEvent:function(){this._changeState("Container","");}});}if(!dojo._hasResource["dijit.tree._dndSelector"]){dojo._hasResource["dijit.tree._dndSelector"]=true;dojo.provide("dijit.tree._dndSelector");dojo.declare("dijit.tree._dndSelector",dijit.tree._dndContainer,{constructor:function(tree,_415){this.selection={};this.anchor=null;dijit.setWaiState(this.tree.domNode,"multiselect",!this.singular);this.events.push(dojo.connect(this.tree.domNode,"onmousedown",this,"onMouseDown"),dojo.connect(this.tree.domNode,"onmouseup",this,"onMouseUp"),dojo.connect(this.tree.domNode,"onmousemove",this,"onMouseMove"));},singular:false,getSelectedTreeNodes:function(){var _416=[],sel=this.selection;for(var i in sel){_416.push(sel[i]);}return _416;},selectNone:function(){this.setSelection([]);return this;},destroy:function(){this.inherited(arguments);this.selection=this.anchor=null;},addTreeNode:function(node,_417){this.setSelection(this.getSelectedTreeNodes().concat([node]));if(_417){this.anchor=node;}return node;},removeTreeNode:function(node){this.setSelection(this._setDifference(this.getSelectedTreeNodes(),[node]));return node;},isTreeNodeSelected:function(node){return node.id&&!!this.selection[node.id];},setSelection:function(_418){var _419=this.getSelectedTreeNodes();dojo.forEach(this._setDifference(_419,_418),dojo.hitch(this,function(node){node.setSelected(false);if(this.anchor==node){delete this.anchor;}delete this.selection[node.id];}));dojo.forEach(this._setDifference(_418,_419),dojo.hitch(this,function(node){node.setSelected(true);this.selection[node.id]=node;}));this._updateSelectionProperties();},_setDifference:function(xs,ys){dojo.forEach(ys,function(y){y.__exclude__=true;});var ret=dojo.filter(xs,function(x){return !x.__exclude__;});dojo.forEach(ys,function(y){delete y["__exclude__"];});return ret;},_updateSelectionProperties:function(){var _41a=this.getSelectedTreeNodes();var _41b=[],_41c=[];dojo.forEach(_41a,function(node){_41c.push(node);_41b.push(node.getTreePath());});var _41d=dojo.map(_41c,function(node){return node.item;});this.tree._set("paths",_41b);this.tree._set("path",_41b[0]||[]);this.tree._set("selectedNodes",_41c);this.tree._set("selectedNode",_41c[0]||null);this.tree._set("selectedItems",_41d);this.tree._set("selectedItem",_41d[0]||null);},onMouseDown:function(e){if(!this.current||this.tree.isExpandoNode(e.target,this.current)){return;}if(e.button==dojo.mouseButtons.RIGHT){return;}dojo.stopEvent(e);var _41e=this.current,copy=dojo.isCopyKey(e),id=_41e.id;if(!this.singular&&!e.shiftKey&&this.selection[id]){this._doDeselect=true;return;}else{this._doDeselect=false;}this.userSelect(_41e,copy,e.shiftKey);},onMouseUp:function(e){if(!this._doDeselect){return;}this._doDeselect=false;this.userSelect(this.current,dojo.isCopyKey(e),e.shiftKey);},onMouseMove:function(e){this._doDeselect=false;},userSelect:function(node,_41f,_420){if(this.singular){if(this.anchor==node&&_41f){this.selectNone();}else{this.setSelection([node]);this.anchor=node;}}else{if(_420&&this.anchor){var cr=dijit.tree._compareNodes(this.anchor.rowNode,node.rowNode),_421,end,_422=this.anchor;if(cr<0){_421=_422;end=node;}else{_421=node;end=_422;}nodes=[];while(_421!=end){nodes.push(_421);_421=this.tree._getNextNode(_421);}nodes.push(end);this.setSelection(nodes);}else{if(this.selection[node.id]&&_41f){this.removeTreeNode(node);}else{if(_41f){this.addTreeNode(node,true);}else{this.setSelection([node]);this.anchor=node;}}}}},forInSelectedItems:function(f,o){o=o||dojo.global;for(var id in this.selection){f.call(o,this.getItem(id),id,this);}}});}if(!dojo._hasResource["dijit.Tree"]){dojo._hasResource["dijit.Tree"]=true;dojo.provide("dijit.Tree");dojo.declare("dijit._TreeNode",[dijit._Widget,dijit._Templated,dijit._Container,dijit._Contained,dijit._CssStateMixin],{item:null,isTreeNode:true,label:"",isExpandable:null,isExpanded:false,state:"UNCHECKED",templateString:dojo.cache("dijit","templates/TreeNode.html","<div class=\"dijitTreeNode\" role=\"presentation\"\n\t><div dojoAttachPoint=\"rowNode\" class=\"dijitTreeRow\" role=\"presentation\" dojoAttachEvent=\"onmouseenter:_onMouseEnter, onmouseleave:_onMouseLeave, onclick:_onClick, ondblclick:_onDblClick\"\n\t\t><img src=\"${_blankGif}\" alt=\"\" dojoAttachPoint=\"expandoNode\" class=\"dijitTreeExpando\" role=\"presentation\"\n\t\t/><span dojoAttachPoint=\"expandoNodeText\" class=\"dijitExpandoText\" role=\"presentation\"\n\t\t></span\n\t\t><span dojoAttachPoint=\"contentNode\"\n\t\t\tclass=\"dijitTreeContent\" role=\"presentation\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" dojoAttachPoint=\"iconNode\" class=\"dijitIcon dijitTreeIcon\" role=\"presentation\"\n\t\t\t/><span dojoAttachPoint=\"labelNode\" class=\"dijitTreeLabel\" role=\"treeitem\" tabindex=\"-1\" aria-selected=\"false\" dojoAttachEvent=\"onfocus:_onLabelFocus\"></span>\n\t\t</span\n\t></div>\n\t<div dojoAttachPoint=\"containerNode\" class=\"dijitTreeContainer\" role=\"presentation\" style=\"display: none;\"></div>\n</div>\n"),baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow",labelNode:"dijitTreeLabel"},attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{label:{node:"labelNode",type:"innerText"},tooltip:{node:"rowNode",type:"attribute",attribute:"title"}}),buildRendering:function(){this.inherited(arguments);this._setExpando();this._updateItemClasses(this.item);if(this.isExpandable){dijit.setWaiState(this.labelNode,"expanded",this.isExpanded);}this.setSelected(false);},_setIndentAttr:function(_423){var _424=(Math.max(_423,0)*this.tree._nodePixelIndent)+"px";dojo.style(this.domNode,"backgroundPosition",_424+" 0px");dojo.style(this.rowNode,this.isLeftToRight()?"paddingLeft":"paddingRight",_424);dojo.forEach(this.getChildren(),function(_425){_425.set("indent",_423+1);});this._set("indent",_423);},markProcessing:function(){this.state="LOADING";this._setExpando(true);},unmarkProcessing:function(){this._setExpando(false);},_updateItemClasses:function(item){var tree=this.tree,_426=tree.model;if(tree._v10Compat&&item===_426.root){item=null;}this._applyClassAndStyle(item,"icon","Icon");this._applyClassAndStyle(item,"label","Label");this._applyClassAndStyle(item,"row","Row");},_applyClassAndStyle:function(item,_427,_428){var _429="_"+_427+"Class";var _42a=_427+"Node";var _42b=this[_429];this[_429]=this.tree["get"+_428+"Class"](item,this.isExpanded);dojo.replaceClass(this[_42a],this[_429]||"",_42b||"");dojo.style(this[_42a],this.tree["get"+_428+"Style"](item,this.isExpanded)||{});},_updateLayout:function(){var _42c=this.getParent();if(!_42c||_42c.rowNode.style.display=="none"){dojo.addClass(this.domNode,"dijitTreeIsRoot");}else{dojo.toggleClass(this.domNode,"dijitTreeIsLast",!this.getNextSibling());}},_setExpando:function(_42d){var _42e=["dijitTreeExpandoLoading","dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"],_42f=["*","-","+","*"],idx=_42d?0:(this.isExpandable?(this.isExpanded?1:2):3);dojo.replaceClass(this.expandoNode,_42e[idx],_42e);this.expandoNodeText.innerHTML=_42f[idx];},expand:function(){if(this._expandDeferred){return this._expandDeferred;}this._wipeOut&&this._wipeOut.stop();this.isExpanded=true;dijit.setWaiState(this.labelNode,"expanded","true");if(this.tree.showRoot||this!==this.tree.rootNode){dijit.setWaiRole(this.containerNode,"group");}dojo.addClass(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);if(this==this.tree.rootNode){dijit.setWaiState(this.tree.domNode,"expanded","true");}var def,_430=dojo.fx.wipeIn({node:this.containerNode,duration:dijit.defaultDuration,onEnd:function(){def.callback(true);}});def=(this._expandDeferred=new dojo.Deferred(function(){_430.stop();}));_430.play();return def;},collapse:function(){if(!this.isExpanded){return;}if(this._expandDeferred){this._expandDeferred.cancel();delete this._expandDeferred;}this.isExpanded=false;dijit.setWaiState(this.labelNode,"expanded","false");if(this==this.tree.rootNode){dijit.setWaiState(this.tree.domNode,"expanded","false");}dojo.removeClass(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);if(!this._wipeOut){this._wipeOut=dojo.fx.wipeOut({node:this.containerNode,duration:dijit.defaultDuration});}this._wipeOut.play();},indent:0,setChildItems:function(_431){var tree=this.tree,_432=tree.model,defs=[];dojo.forEach(this.getChildren(),function(_433){dijit._Container.prototype.removeChild.call(this,_433);},this);this.state="LOADED";if(_431&&_431.length>0){this.isExpandable=true;dojo.forEach(_431,function(item){var id=_432.getIdentity(item),_434=tree._itemNodesMap[id],node;if(_434){for(var i=0;i<_434.length;i++){if(_434[i]&&!_434[i].getParent()){node=_434[i];node.set("indent",this.indent+1);break;}}}if(!node){node=this.tree._createTreeNode({item:item,tree:tree,isExpandable:_432.mayHaveChildren(item),label:tree.getLabel(item),tooltip:tree.getTooltip(item),dir:tree.dir,lang:tree.lang,indent:this.indent+1});if(_434){_434.push(node);}else{tree._itemNodesMap[id]=[node];}}this.addChild(node);if(this.tree.autoExpand||this.tree._state(item)){defs.push(tree._expandNode(node));}},this);dojo.forEach(this.getChildren(),function(_435,idx){_435._updateLayout();});}else{this.isExpandable=false;}if(this._setExpando){this._setExpando(false);}this._updateItemClasses(this.item);if(this==tree.rootNode){var fc=this.tree.showRoot?this:this.getChildren()[0];if(fc){fc.setFocusable(true);tree.lastFocused=fc;}else{tree.domNode.setAttribute("tabIndex","0");}}return new dojo.DeferredList(defs);},getTreePath:function(){var node=this;var path=[];while(node&&node!==this.tree.rootNode){path.unshift(node.item);node=node.getParent();}path.unshift(this.tree.rootNode.item);return path;},getIdentity:function(){return this.tree.model.getIdentity(this.item);},removeChild:function(node){this.inherited(arguments);var _436=this.getChildren();if(_436.length==0){this.isExpandable=false;this.collapse();}dojo.forEach(_436,function(_437){_437._updateLayout();});},makeExpandable:function(){this.isExpandable=true;this._setExpando(false);},_onLabelFocus:function(evt){this.tree._onNodeFocus(this);},setSelected:function(_438){dijit.setWaiState(this.labelNode,"selected",_438);dojo.toggleClass(this.rowNode,"dijitTreeRowSelected",_438);},setFocusable:function(_439){this.labelNode.setAttribute("tabIndex",_439?"0":"-1");},_onClick:function(evt){this.tree._onClick(this,evt);},_onDblClick:function(evt){this.tree._onDblClick(this,evt);},_onMouseEnter:function(evt){this.tree._onNodeMouseEnter(this,evt);},_onMouseLeave:function(evt){this.tree._onNodeMouseLeave(this,evt);}});dojo.declare("dijit.Tree",[dijit._Widget,dijit._Templated],{store:null,model:null,query:null,label:"",showRoot:true,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:false,openOnDblClick:false,templateString:dojo.cache("dijit","templates/Tree.html","<div class=\"dijitTree dijitTreeContainer\" role=\"tree\"\n\tdojoAttachEvent=\"onkeypress:_onKeyPress\">\n\t<div class=\"dijitInline dijitTreeIndent\" style=\"position: absolute; top: -9999px\" dojoAttachPoint=\"indentDetector\"></div>\n</div>\n"),persist:true,autoExpand:false,dndController:"dijit.tree._dndSelector",dndParams:["onDndDrop","itemCreator","onDndCancel","checkAcceptance","checkItemAcceptance","dragThreshold","betweenThreshold"],onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(_43a,_43b){dojo.publish(this.id,[dojo.mixin({tree:this,event:_43a},_43b||{})]);},postMixInProperties:function(){this.tree=this;if(this.autoExpand){this.persist=false;}this._itemNodesMap={};if(!this.cookieName){this.cookieName=this.id+"SaveStateCookie";}this._loadDeferred=new dojo.Deferred();this.inherited(arguments);},postCreate:function(){this._initState();if(!this.model){this._store2model();}this.connect(this.model,"onChange","_onItemChange");this.connect(this.model,"onChildrenChange","_onItemChildrenChange");this.connect(this.model,"onDelete","_onItemDelete");this._load();this.inherited(arguments);if(this.dndController){if(dojo.isString(this.dndController)){this.dndController=dojo.getObject(this.dndController);}var _43c={};for(var i=0;i<this.dndParams.length;i++){if(this[this.dndParams[i]]){_43c[this.dndParams[i]]=this[this.dndParams[i]];}}this.dndController=new this.dndController(this,_43c);}},_store2model:function(){this._v10Compat=true;dojo.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var _43d={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};if(this.params.mayHaveChildren){_43d.mayHaveChildren=dojo.hitch(this,"mayHaveChildren");}if(this.params.getItemChildren){_43d.getChildren=dojo.hitch(this,function(item,_43e,_43f){this.getItemChildren((this._v10Compat&&item===this.model.root)?null:item,_43e,_43f);});}this.model=new dijit.tree.ForestStoreModel(_43d);this.showRoot=Boolean(this.label);},onLoad:function(){},_load:function(){this.model.getRoot(dojo.hitch(this,function(item){var rn=(this.rootNode=this.tree._createTreeNode({item:item,tree:this,isExpandable:true,label:this.label||this.getLabel(item),indent:this.showRoot?0:-1}));if(!this.showRoot){rn.rowNode.style.display="none";dijit.setWaiRole(this.domNode,"presentation");dijit.setWaiRole(rn.labelNode,"presentation");dijit.setWaiRole(rn.containerNode,"tree");}this.domNode.appendChild(rn.domNode);var _440=this.model.getIdentity(item);if(this._itemNodesMap[_440]){this._itemNodesMap[_440].push(rn);}else{this._itemNodesMap[_440]=[rn];}rn._updateLayout();this._expandNode(rn).addCallback(dojo.hitch(this,function(){this._loadDeferred.callback(true);this.onLoad();}));}),function(err){console.error(this,": error loading root: ",err);});},getNodesByItem:function(item){if(!item){return [];}var _441=dojo.isString(item)?item:this.model.getIdentity(item);return [].concat(this._itemNodesMap[_441]);},_setSelectedItemAttr:function(item){this.set("selectedItems",[item]);},_setSelectedItemsAttr:function(_442){var tree=this;this._loadDeferred.addCallback(dojo.hitch(this,function(){var _443=dojo.map(_442,function(item){return (!item||dojo.isString(item))?item:tree.model.getIdentity(item);});var _444=[];dojo.forEach(_443,function(id){_444=_444.concat(tree._itemNodesMap[id]||[]);});this.set("selectedNodes",_444);}));},_setPathAttr:function(path){if(path.length){return this.set("paths",[path]);}else{return this.set("paths",[]);}},_setPathsAttr:function(_445){var tree=this;return new dojo.DeferredList(dojo.map(_445,function(path){var d=new dojo.Deferred();path=dojo.map(path,function(item){return dojo.isString(item)?item:tree.model.getIdentity(item);});if(path.length){tree._loadDeferred.addCallback(function(){_446(path,[tree.rootNode],d);});}else{d.errback("Empty path");}return d;})).addCallback(_447);function _446(path,_448,def){var _449=path.shift();var _44a=dojo.filter(_448,function(node){return node.getIdentity()==_449;})[0];if(!!_44a){if(path.length){tree._expandNode(_44a).addCallback(function(){_446(path,_44a.getChildren(),def);});}else{def.callback(_44a);}}else{def.errback("Could not expand path at "+_449);}};function _447(_44b){tree.set("selectedNodes",dojo.map(dojo.filter(_44b,function(x){return x[0];}),function(x){return x[1];}));};},_setSelectedNodeAttr:function(node){this.set("selectedNodes",[node]);},_setSelectedNodesAttr:function(_44c){this._loadDeferred.addCallback(dojo.hitch(this,function(){this.dndController.setSelection(_44c);}));},mayHaveChildren:function(item){},getItemChildren:function(_44d,_44e){},getLabel:function(item){return this.model.getLabel(item);},getIconClass:function(item,_44f){return (!item||this.model.mayHaveChildren(item))?(_44f?"dijitFolderOpened":"dijitFolderClosed"):"dijitLeaf";},getLabelClass:function(item,_450){},getRowClass:function(item,_451){},getIconStyle:function(item,_452){},getLabelStyle:function(item,_453){},getRowStyle:function(item,_454){},getTooltip:function(item){return "";},_onKeyPress:function(e){if(e.altKey){return;}var dk=dojo.keys;var _455=dijit.getEnclosingWidget(e.target);if(!_455){return;}var key=e.charOrCode;if(typeof key=="string"&&key!=" "){if(!e.altKey&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey){this._onLetterKeyNav({node:_455,key:key.toLowerCase()});dojo.stopEvent(e);}}else{if(this._curSearch){clearTimeout(this._curSearch.timer);delete this._curSearch;}var map=this._keyHandlerMap;if(!map){map={};map[dk.ENTER]="_onEnterKey";map[dk.SPACE]=map[" "]="_onEnterKey";map[this.isLeftToRight()?dk.LEFT_ARROW:dk.RIGHT_ARROW]="_onLeftArrow";map[this.isLeftToRight()?dk.RIGHT_ARROW:dk.LEFT_ARROW]="_onRightArrow";map[dk.UP_ARROW]="_onUpArrow";map[dk.DOWN_ARROW]="_onDownArrow";map[dk.HOME]="_onHomeKey";map[dk.END]="_onEndKey";this._keyHandlerMap=map;}if(this._keyHandlerMap[key]){this[this._keyHandlerMap[key]]({node:_455,item:_455.item,evt:e});dojo.stopEvent(e);}}},_onEnterKey:function(_456){this._publish("execute",{item:_456.item,node:_456.node});this.dndController.userSelect(_456.node,dojo.isCopyKey(_456.evt),_456.evt.shiftKey);this.onClick(_456.item,_456.node,_456.evt);},_onDownArrow:function(_457){var node=this._getNextNode(_457.node);if(node&&node.isTreeNode){this.focusNode(node);}},_onUpArrow:function(_458){var node=_458.node;var _459=node.getPreviousSibling();if(_459){node=_459;while(node.isExpandable&&node.isExpanded&&node.hasChildren()){var _45a=node.getChildren();node=_45a[_45a.length-1];}}else{var _45b=node.getParent();if(!(!this.showRoot&&_45b===this.rootNode)){node=_45b;}}if(node&&node.isTreeNode){this.focusNode(node);}},_onRightArrow:function(_45c){var node=_45c.node;if(node.isExpandable&&!node.isExpanded){this._expandNode(node);}else{if(node.hasChildren()){node=node.getChildren()[0];if(node&&node.isTreeNode){this.focusNode(node);}}}},_onLeftArrow:function(_45d){var node=_45d.node;if(node.isExpandable&&node.isExpanded){this._collapseNode(node);}else{var _45e=node.getParent();if(_45e&&_45e.isTreeNode&&!(!this.showRoot&&_45e===this.rootNode)){this.focusNode(_45e);}}},_onHomeKey:function(){var node=this._getRootOrFirstNode();if(node){this.focusNode(node);}},_onEndKey:function(_45f){var node=this.rootNode;while(node.isExpanded){var c=node.getChildren();node=c[c.length-1];}if(node&&node.isTreeNode){this.focusNode(node);}},multiCharSearchDuration:250,_onLetterKeyNav:function(_460){var cs=this._curSearch;if(cs){cs.pattern=cs.pattern+_460.key;clearTimeout(cs.timer);}else{cs=this._curSearch={pattern:_460.key,startNode:_460.node};}var self=this;cs.timer=setTimeout(function(){delete self._curSearch;},this.multiCharSearchDuration);var node=cs.startNode;do{node=this._getNextNode(node);if(!node){node=this._getRootOrFirstNode();}}while(node!==cs.startNode&&(node.label.toLowerCase().substr(0,cs.pattern.length)!=cs.pattern));if(node&&node.isTreeNode){if(node!==cs.startNode){this.focusNode(node);}}},isExpandoNode:function(node,_461){return dojo.isDescendant(node,_461.expandoNode);},_onClick:function(_462,e){var _463=e.target,_464=this.isExpandoNode(_463,_462);if((this.openOnClick&&_462.isExpandable)||_464){if(_462.isExpandable){this._onExpandoClick({node:_462});}}else{this._publish("execute",{item:_462.item,node:_462,evt:e});this.onClick(_462.item,_462,e);this.focusNode(_462);}dojo.stopEvent(e);},_onDblClick:function(_465,e){var _466=e.target,_467=(_466==_465.expandoNode||_466==_465.expandoNodeText);if((this.openOnDblClick&&_465.isExpandable)||_467){if(_465.isExpandable){this._onExpandoClick({node:_465});}}else{this._publish("execute",{item:_465.item,node:_465,evt:e});this.onDblClick(_465.item,_465,e);this.focusNode(_465);}dojo.stopEvent(e);},_onExpandoClick:function(_468){var node=_468.node;this.focusNode(node);if(node.isExpanded){this._collapseNode(node);}else{this._expandNode(node);}},onClick:function(item,node,evt){},onDblClick:function(item,node,evt){},onOpen:function(item,node){},onClose:function(item,node){},_getNextNode:function(node){if(node.isExpandable&&node.isExpanded&&node.hasChildren()){return node.getChildren()[0];}else{while(node&&node.isTreeNode){var _469=node.getNextSibling();if(_469){return _469;}node=node.getParent();}return null;}},_getRootOrFirstNode:function(){return this.showRoot?this.rootNode:this.rootNode.getChildren()[0];},_collapseNode:function(node){if(node._expandNodeDeferred){delete node._expandNodeDeferred;}if(node.isExpandable){if(node.state=="LOADING"){return;}node.collapse();this.onClose(node.item,node);if(node.item){this._state(node.item,false);this._saveState();}}},_expandNode:function(node,_46a){if(node._expandNodeDeferred&&!_46a){return node._expandNodeDeferred;}var _46b=this.model,item=node.item,_46c=this;switch(node.state){case "UNCHECKED":node.markProcessing();var def=(node._expandNodeDeferred=new dojo.Deferred());_46b.getChildren(item,function(_46d){node.unmarkProcessing();var scid=node.setChildItems(_46d);var ed=_46c._expandNode(node,true);scid.addCallback(function(){ed.addCallback(function(){def.callback();});});},function(err){console.error(_46c,": error loading root children: ",err);});break;default:def=(node._expandNodeDeferred=node.expand());this.onOpen(node.item,node);if(item){this._state(item,true);this._saveState();}}return def;},focusNode:function(node){dijit.focus(node.labelNode);},_onNodeFocus:function(node){if(node&&node!=this.lastFocused){if(this.lastFocused&&!this.lastFocused._destroyed){this.lastFocused.setFocusable(false);}node.setFocusable(true);this.lastFocused=node;}},_onNodeMouseEnter:function(node){},_onNodeMouseLeave:function(node){},_onItemChange:function(item){var _46e=this.model,_46f=_46e.getIdentity(item),_470=this._itemNodesMap[_46f];if(_470){var _471=this.getLabel(item),_472=this.getTooltip(item);dojo.forEach(_470,function(node){node.set({item:item,label:_471,tooltip:_472});node._updateItemClasses(item);});}},_onItemChildrenChange:function(_473,_474){var _475=this.model,_476=_475.getIdentity(_473),_477=this._itemNodesMap[_476];if(_477){dojo.forEach(_477,function(_478){_478.setChildItems(_474);});}},_onItemDelete:function(item){var _479=this.model,_47a=_479.getIdentity(item),_47b=this._itemNodesMap[_47a];if(_47b){dojo.forEach(_47b,function(node){this.dndController.removeTreeNode(node);var _47c=node.getParent();if(_47c){_47c.removeChild(node);}node.destroyRecursive();},this);delete this._itemNodesMap[_47a];}},_initState:function(){if(this.persist){var _47d=dojo.cookie(this.cookieName);this._openedItemIds={};if(_47d){dojo.forEach(_47d.split(","),function(item){this._openedItemIds[item]=true;},this);}}},_state:function(item,_47e){if(!this.persist){return false;}var id=this.model.getIdentity(item);if(arguments.length===1){return this._openedItemIds[id];}if(_47e){this._openedItemIds[id]=true;}else{delete this._openedItemIds[id];}},_saveState:function(){if(!this.persist){return;}var ary=[];for(var id in this._openedItemIds){ary.push(id);}dojo.cookie(this.cookieName,ary.join(","),{expires:365});},destroy:function(){if(this._curSearch){clearTimeout(this._curSearch.timer);delete this._curSearch;}if(this.rootNode){this.rootNode.destroyRecursive();}if(this.dndController&&!dojo.isString(this.dndController)){this.dndController.destroy();}this.rootNode=null;this.inherited(arguments);},destroyRecursive:function(){this.destroy();},resize:function(_47f){if(_47f){dojo.marginBox(this.domNode,_47f);}this._nodePixelIndent=dojo._getMarginSize(this.tree.indentDetector).w;if(this.tree.rootNode){this.tree.rootNode.set("indent",this.showRoot?0:-1);}},_createTreeNode:function(args){return new dijit._TreeNode(args);}});}if(!dojo._hasResource["dojo.dnd.autoscroll"]){dojo._hasResource["dojo.dnd.autoscroll"]=true;dojo.provide("dojo.dnd.autoscroll");dojo.getObject("dnd",true,dojo);dojo.dnd.getViewport=dojo.window.getBox;dojo.dnd.V_TRIGGER_AUTOSCROLL=32;dojo.dnd.H_TRIGGER_AUTOSCROLL=32;dojo.dnd.V_AUTOSCROLL_VALUE=16;dojo.dnd.H_AUTOSCROLL_VALUE=16;dojo.dnd.autoScroll=function(e){var v=dojo.window.getBox(),dx=0,dy=0;if(e.clientX<dojo.dnd.H_TRIGGER_AUTOSCROLL){dx=-dojo.dnd.H_AUTOSCROLL_VALUE;}else{if(e.clientX>v.w-dojo.dnd.H_TRIGGER_AUTOSCROLL){dx=dojo.dnd.H_AUTOSCROLL_VALUE;}}if(e.clientY<dojo.dnd.V_TRIGGER_AUTOSCROLL){dy=-dojo.dnd.V_AUTOSCROLL_VALUE;}else{if(e.clientY>v.h-dojo.dnd.V_TRIGGER_AUTOSCROLL){dy=dojo.dnd.V_AUTOSCROLL_VALUE;}}window.scrollBy(dx,dy);};dojo.dnd._validNodes={"div":1,"p":1,"td":1};dojo.dnd._validOverflow={"auto":1,"scroll":1};dojo.dnd.autoScrollNodes=function(e){for(var n=e.target;n;){if(n.nodeType==1&&(n.tagName.toLowerCase() in dojo.dnd._validNodes)){var s=dojo.getComputedStyle(n);if(s.overflow.toLowerCase() in dojo.dnd._validOverflow){var b=dojo._getContentBox(n,s),t=dojo.position(n,true);var w=Math.min(dojo.dnd.H_TRIGGER_AUTOSCROLL,b.w/2),h=Math.min(dojo.dnd.V_TRIGGER_AUTOSCROLL,b.h/2),rx=e.pageX-t.x,ry=e.pageY-t.y,dx=0,dy=0;if(dojo.isWebKit||dojo.isOpera){rx+=dojo.body().scrollLeft;ry+=dojo.body().scrollTop;}if(rx>0&&rx<b.w){if(rx<w){dx=-w;}else{if(rx>b.w-w){dx=w;}}}if(ry>0&&ry<b.h){if(ry<h){dy=-h;}else{if(ry>b.h-h){dy=h;}}}var _480=n.scrollLeft,_481=n.scrollTop;n.scrollLeft=n.scrollLeft+dx;n.scrollTop=n.scrollTop+dy;if(_480!=n.scrollLeft||_481!=n.scrollTop){return;}}}try{n=n.parentNode;}catch(x){n=null;}}dojo.dnd.autoScroll(e);};}if(!dojo._hasResource["dojo.dnd.Avatar"]){dojo._hasResource["dojo.dnd.Avatar"]=true;dojo.provide("dojo.dnd.Avatar");dojo.declare("dojo.dnd.Avatar",null,{constructor:function(_482){this.manager=_482;this.construct();},construct:function(){this.isA11y=dojo.hasClass(dojo.body(),"dijit_a11y");var a=dojo.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),_483=this.manager.source,node,b=dojo.create("tbody",null,a),tr=dojo.create("tr",null,b),td=dojo.create("td",null,tr),icon=this.isA11y?dojo.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"<"},td):null,span=dojo.create("span",{innerHTML:_483.generateText?this._generateText():""},td),k=Math.min(5,this.manager.nodes.length),i=0;dojo.attr(tr,{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});for(;i<k;++i){if(_483.creator){node=_483._normalizedCreator(_483.getItem(this.manager.nodes[i].id).data,"avatar").node;}else{node=this.manager.nodes[i].cloneNode(true);if(node.tagName.toLowerCase()=="tr"){var _484=dojo.create("table"),_485=dojo.create("tbody",null,_484);_485.appendChild(node);node=_484;}}node.id="";tr=dojo.create("tr",null,b);td=dojo.create("td",null,tr);td.appendChild(node);dojo.attr(tr,{"class":"dojoDndAvatarItem",style:{opacity:(9-i)/10}});}this.node=a;},destroy:function(){dojo.destroy(this.node);this.node=false;},update:function(){dojo[(this.manager.canDropFlag?"add":"remove")+"Class"](this.node,"dojoDndAvatarCanDrop");if(this.isA11y){var icon=dojo.byId("a11yIcon");var text="+";if(this.manager.canDropFlag&&!this.manager.copy){text="< ";}else{if(!this.manager.canDropFlag&&!this.manager.copy){text="o";}else{if(!this.manager.canDropFlag){text="x";}}}icon.innerHTML=text;}dojo.query(("tr.dojoDndAvatarHeader td span"+(this.isA11y?" span":"")),this.node).forEach(function(node){node.innerHTML=this._generateText();},this);},_generateText:function(){return this.manager.nodes.length.toString();}});}if(!dojo._hasResource["dojo.dnd.Manager"]){dojo._hasResource["dojo.dnd.Manager"]=true;dojo.provide("dojo.dnd.Manager");dojo.declare("dojo.dnd.Manager",null,{constructor:function(){this.avatar=null;this.source=null;this.nodes=[];this.copy=true;this.target=null;this.canDropFlag=false;this.events=[];},OFFSET_X:16,OFFSET_Y:16,overSource:function(_486){if(this.avatar){this.target=(_486&&_486.targetState!="Disabled")?_486:null;this.canDropFlag=Boolean(this.target);this.avatar.update();}dojo.publish("/dnd/source/over",[_486]);},outSource:function(_487){if(this.avatar){if(this.target==_487){this.target=null;this.canDropFlag=false;this.avatar.update();dojo.publish("/dnd/source/over",[null]);}}else{dojo.publish("/dnd/source/over",[null]);}},startDrag:function(_488,_489,copy){this.source=_488;this.nodes=_489;this.copy=Boolean(copy);this.avatar=this.makeAvatar();dojo.body().appendChild(this.avatar.node);dojo.publish("/dnd/start",[_488,_489,this.copy]);this.events=[dojo.connect(dojo.doc,"onmousemove",this,"onMouseMove"),dojo.connect(dojo.doc,"onmouseup",this,"onMouseUp"),dojo.connect(dojo.doc,"onkeydown",this,"onKeyDown"),dojo.connect(dojo.doc,"onkeyup",this,"onKeyUp"),dojo.connect(dojo.doc,"ondragstart",dojo.stopEvent),dojo.connect(dojo.body(),"onselectstart",dojo.stopEvent)];var c="dojoDnd"+(copy?"Copy":"Move");dojo.addClass(dojo.body(),c);},canDrop:function(flag){var _48a=Boolean(this.target&&flag);if(this.canDropFlag!=_48a){this.canDropFlag=_48a;this.avatar.update();}},stopDrag:function(){dojo.removeClass(dojo.body(),["dojoDndCopy","dojoDndMove"]);dojo.forEach(this.events,dojo.disconnect);this.events=[];this.avatar.destroy();this.avatar=null;this.source=this.target=null;this.nodes=[];},makeAvatar:function(){return new dojo.dnd.Avatar(this);},updateAvatar:function(){this.avatar.update();},onMouseMove:function(e){var a=this.avatar;if(a){dojo.dnd.autoScrollNodes(e);var s=a.node.style;s.left=(e.pageX+this.OFFSET_X)+"px";s.top=(e.pageY+this.OFFSET_Y)+"px";var copy=Boolean(this.source.copyState(dojo.isCopyKey(e)));if(this.copy!=copy){this._setCopyStatus(copy);}}},onMouseUp:function(e){if(this.avatar){if(this.target&&this.canDropFlag){var copy=Boolean(this.source.copyState(dojo.isCopyKey(e))),_48b=[this.source,this.nodes,copy,this.target,e];dojo.publish("/dnd/drop/before",_48b);dojo.publish("/dnd/drop",_48b);}else{dojo.publish("/dnd/cancel");}this.stopDrag();}},onKeyDown:function(e){if(this.avatar){switch(e.keyCode){case dojo.keys.CTRL:var copy=Boolean(this.source.copyState(true));if(this.copy!=copy){this._setCopyStatus(copy);}break;case dojo.keys.ESCAPE:dojo.publish("/dnd/cancel");this.stopDrag();break;}}},onKeyUp:function(e){if(this.avatar&&e.keyCode==dojo.keys.CTRL){var copy=Boolean(this.source.copyState(false));if(this.copy!=copy){this._setCopyStatus(copy);}}},_setCopyStatus:function(copy){this.copy=copy;this.source._markDndStatus(this.copy);this.updateAvatar();dojo.replaceClass(dojo.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?"Move":"Copy"));}});dojo.dnd._manager=null;dojo.dnd.manager=function(){if(!dojo.dnd._manager){dojo.dnd._manager=new dojo.dnd.Manager();}return dojo.dnd._manager;};}if(!dojo._hasResource["dijit.tree.dndSource"]){dojo._hasResource["dijit.tree.dndSource"]=true;dojo.provide("dijit.tree.dndSource");dojo.declare("dijit.tree.dndSource",dijit.tree._dndSelector,{isSource:true,accept:["text","treeNode"],copyOnly:false,dragThreshold:5,betweenThreshold:0,constructor:function(tree,_48c){if(!_48c){_48c={};}dojo.mixin(this,_48c);this.isSource=typeof _48c.isSource=="undefined"?true:_48c.isSource;var type=_48c.accept instanceof Array?_48c.accept:["text","treeNode"];this.accept=null;if(type.length){this.accept={};for(var i=0;i<type.length;++i){this.accept[type[i]]=1;}}this.isDragging=false;this.mouseDown=false;this.targetAnchor=null;this.targetBox=null;this.dropPosition="";this._lastX=0;this._lastY=0;this.sourceState="";if(this.isSource){dojo.addClass(this.node,"dojoDndSource");}this.targetState="";if(this.accept){dojo.addClass(this.node,"dojoDndTarget");}this.topics=[dojo.subscribe("/dnd/source/over",this,"onDndSourceOver"),dojo.subscribe("/dnd/start",this,"onDndStart"),dojo.subscribe("/dnd/drop",this,"onDndDrop"),dojo.subscribe("/dnd/cancel",this,"onDndCancel")];},checkAcceptance:function(_48d,_48e){return true;},copyState:function(_48f){return this.copyOnly||_48f;},destroy:function(){this.inherited("destroy",arguments);dojo.forEach(this.topics,dojo.unsubscribe);this.targetAnchor=null;},_onDragMouse:function(e){var m=dojo.dnd.manager(),_490=this.targetAnchor,_491=this.current,_492=this.dropPosition;var _493="Over";if(_491&&this.betweenThreshold>0){if(!this.targetBox||_490!=_491){this.targetBox=dojo.position(_491.rowNode,true);}if((e.pageY-this.targetBox.y)<=this.betweenThreshold){_493="Before";}else{if((e.pageY-this.targetBox.y)>=(this.targetBox.h-this.betweenThreshold)){_493="After";}}}if(_491!=_490||_493!=_492){if(_490){this._removeItemClass(_490.rowNode,_492);}if(_491){this._addItemClass(_491.rowNode,_493);}if(!_491){m.canDrop(false);}else{if(_491==this.tree.rootNode&&_493!="Over"){m.canDrop(false);}else{if(m.source==this&&(_491.id in this.selection)){m.canDrop(false);}else{if(this.checkItemAcceptance(_491.rowNode,m.source,_493.toLowerCase())&&!this._isParentChildDrop(m.source,_491.rowNode)){m.canDrop(true);}else{m.canDrop(false);}}}}this.targetAnchor=_491;this.dropPosition=_493;}},onMouseMove:function(e){if(this.isDragging&&this.targetState=="Disabled"){return;}this.inherited(arguments);var m=dojo.dnd.manager();if(this.isDragging){this._onDragMouse(e);}else{if(this.mouseDown&&this.isSource&&(Math.abs(e.pageX-this._lastX)>=this.dragThreshold||Math.abs(e.pageY-this._lastY)>=this.dragThreshold)){var _494=this.getSelectedTreeNodes();if(_494.length){if(_494.length>1){var seen=this.selection,i=0,r=[],n,p;nextitem:while((n=_494[i++])){for(p=n.getParent();p&&p!==this.tree;p=p.getParent()){if(seen[p.id]){continue nextitem;}}r.push(n);}_494=r;}_494=dojo.map(_494,function(n){return n.domNode;});m.startDrag(this,_494,this.copyState(dojo.isCopyKey(e)));}}}},onMouseDown:function(e){this.mouseDown=true;this.mouseButton=e.button;this._lastX=e.pageX;this._lastY=e.pageY;this.inherited(arguments);},onMouseUp:function(e){if(this.mouseDown){this.mouseDown=false;this.inherited(arguments);}},onMouseOut:function(){this.inherited(arguments);this._unmarkTargetAnchor();},checkItemAcceptance:function(_495,_496,_497){return true;},onDndSourceOver:function(_498){if(this!=_498){this.mouseDown=false;this._unmarkTargetAnchor();}else{if(this.isDragging){var m=dojo.dnd.manager();m.canDrop(false);}}},onDndStart:function(_499,_49a,copy){if(this.isSource){this._changeState("Source",this==_499?(copy?"Copied":"Moved"):"");}var _49b=this.checkAcceptance(_499,_49a);this._changeState("Target",_49b?"":"Disabled");if(this==_499){dojo.dnd.manager().overSource(this);}this.isDragging=true;},itemCreator:function(_49c,_49d,_49e){return dojo.map(_49c,function(node){return {"id":node.id,"name":node.textContent||node.innerText||""};});},onDndDrop:function(_49f,_4a0,copy){if(this.containerState=="Over"){var tree=this.tree,_4a1=tree.model,_4a2=this.targetAnchor,_4a3=false;this.isDragging=false;var _4a4=_4a2;var _4a5;var _4a6;_4a5=(_4a4&&_4a4.item)||tree.item;if(this.dropPosition=="Before"||this.dropPosition=="After"){_4a5=(_4a4.getParent()&&_4a4.getParent().item)||tree.item;_4a6=_4a4.getIndexInParent();if(this.dropPosition=="After"){_4a6=_4a4.getIndexInParent()+1;}}else{_4a5=(_4a4&&_4a4.item)||tree.item;}var _4a7;dojo.forEach(_4a0,function(node,idx){var _4a8=_49f.getItem(node.id);if(dojo.indexOf(_4a8.type,"treeNode")!=-1){var _4a9=_4a8.data,_4aa=_4a9.item,_4ab=_4a9.getParent().item;}if(_49f==this){if(typeof _4a6=="number"){if(_4a5==_4ab&&_4a9.getIndexInParent()<_4a6){_4a6-=1;}}_4a1.pasteItem(_4aa,_4ab,_4a5,copy,_4a6);}else{if(_4a1.isItem(_4aa)){_4a1.pasteItem(_4aa,_4ab,_4a5,copy,_4a6);}else{if(!_4a7){_4a7=this.itemCreator(_4a0,_4a2.rowNode,_49f);}_4a1.newItem(_4a7[idx],_4a5,_4a6);}}},this);this.tree._expandNode(_4a4);}this.onDndCancel();},onDndCancel:function(){this._unmarkTargetAnchor();this.isDragging=false;this.mouseDown=false;delete this.mouseButton;this._changeState("Source","");this._changeState("Target","");},onOverEvent:function(){this.inherited(arguments);dojo.dnd.manager().overSource(this);},onOutEvent:function(){this._unmarkTargetAnchor();var m=dojo.dnd.manager();if(this.isDragging){m.canDrop(false);}m.outSource(this);this.inherited(arguments);},_isParentChildDrop:function(_4ac,_4ad){if(!_4ac.tree||_4ac.tree!=this.tree){return false;}var root=_4ac.tree.domNode;var ids=_4ac.selection;var node=_4ad.parentNode;while(node!=root&&!ids[node.id]){node=node.parentNode;}return node.id&&ids[node.id];},_unmarkTargetAnchor:function(){if(!this.targetAnchor){return;}this._removeItemClass(this.targetAnchor.rowNode,this.dropPosition);this.targetAnchor=null;this.targetBox=null;this.dropPosition=null;},_markDndStatus:function(copy){this._changeState("Source",copy?"Copied":"Moved");}});}dojo.i18n._preloadLocalizations("dojo.nls.pmbdojo",["ROOT","ar","ca","cs","da","de","de-de","el","en","en-gb","en-us","es","es-es","fi","fi-fi","fr","fr-fr","he","he-il","hu","it","it-it","ja","ja-jp","ko","ko-kr","nb","nl","nl-nl","pl","pt","pt-br","pt-pt","ru","sk","sl","sv","th","tr","xx","zh","zh-cn","zh-tw"]);
